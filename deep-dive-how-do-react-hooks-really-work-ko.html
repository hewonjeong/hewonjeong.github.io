<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e1c529c04de64b40-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/a279f74e0e8e63c1.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/6c756f5ba594f113.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-478d9e9ec4cf4901.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-9ca93e6eaf504584.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-45e84c3d4c769e2c.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-4a25691f1573a7dd.js" async="" crossorigin=""></script><script src="/_next/static/chunks/901-e0981abc5db6695f.js" async=""></script><script src="/_next/static/chunks/app/layout-c6b70a57992e0736.js" async=""></script><script src="/_next/static/chunks/749-eb70e03c44394694.js" async=""></script><script src="/_next/static/chunks/app/%5Bslug%5D/page-2b03d7246e3b97dc.js" async=""></script><title>[번역] 심층 분석: React Hook은 실제로 어떻게 동작할까? — Hewon Jeong</title><meta name="description" content="React Hook에 대해 이해하려면 JavaScript 클로저에 대해 잘 알아야합니다. React의 작은 복제본을 만들어보며 클로저와 hook의 동작 방식을 알아봅니다."/><link rel="icon" href="/icon.png?dd72987ff3bd4997" type="image/png" sizes="160x160"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="mx-auto max-w-2xl bg-[--bg] px-5 py-12 text-[--text]"><header class="mb-14 flex flex-row place-content-between"><a class="__className_71cf04 inline-block text-2xl font-black hover:scale-[1.02] scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="/"><span>Hewon Jeong</span></a></header><main><article><h1 class="text-[2.5rem] leading-tight font-bold text-[--title] break-keep">[번역] 심층 분석: React Hook은 실제로 어떻게 동작할까?</h1><time dateTime="2019-11-26" class="text-[13px] text-gray-400 dark:text-gray-500 font-mono flex mt-2">November 26, 2019</time><div class="markdown mt-10"><p><a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://www.netlify.com/blog/2019/03/11/deep-dive-how-do-react-hooks-really-work/">Deep dive: How do React hooks really work?</a>을 저자, <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://twitter.com/swyx">Swyx</a>의 허락을 받고 번역한 글입니다. 오타, 오역은 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://github.com/hewonjeong/hewonjeong.github.io/issues/new">제보</a>해주시면 수정하도록 하겠습니다.👍🏻</p>
<p><img alt="클로저 다이어그램" loading="lazy" width="721" height="617" decoding="async" data-nimg="1" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 721 617&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAbCAIAAACSpRrNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFaElEQVR4nJ2WbUxTZxTH/1n2wSzGZJnZsugWPhCymBi3aRZjyNIhYGlFyqDIJisVAlikjl1pwdoLjLI6xFHMuBG8Qtl8gUHwBbaaxjhnUBysGOg210WxWZ0f2HAmMxtWbnuXc28tKG3mdnJyc+7b+Z3nPOc5zwPxCUQQBIvFYrPZVCpVcXGxUqlUKBSBQOBJ/kXMpyFBmAvOLtRWx4GKip0mk4lhGIPBYDKZZmZm/h8gPBecFcVwnO/D0VdCfIkLCAnBkDAniuK9O7eunGSdNYktRdivQ/uuZe6ObdM3xx5j/LcRzAXvi6I4e+9Op2llZTJKV0OXgPzleOcFuuoTse1FGDbg/GnnD9dvO7s6p27ccLvdHkkmJiY8Ho/P5xsZGRkdHY0BCAlBURR/vnJCl4CNQO4SFCWhZBUxdAlkl6+DBnhLUptu+bdXfScHBrI1GoZhtFptSkqKTqfTarUqlcrtdj8OkL2Puz7eDKQBaiADyFuGghUUuAzQLkU6kCm9SgO6qp/7a/bBr7cCgUDgmiR+v9/n8y0uLchJnxofyAS5UANKSdWSu8yHPFmVD42NwFH21WhwCyXGJIeEYFESxSW70ICiLlsD43oYXiNDl0APMyRYVDOAHy+2RxkxSygCOHVAJXvPAIpfgaMUR6rBV+HgDhw0kHHEDIsamwDFAn0TyFkJ709TY2Njw8PDd+/ejVtFJaso/M1A+VrUKPHRNjQVYn8hbHl0bd5OpA9zUbgaW1+i5KQs0EHeOv3Hn/19fR6PZ3F+CDA1PihnpmwNTKlgFBRsbTYa3yVtyIM1E7VZqM+lVzVK+kzOlVwRnaaVoihOTIx7vd7YgPNdJRtBNW5KRWUyqtOxT4fWCrQaSR0GujWlYucbBKhMJjtvWaQK0kBPqAI9Y17vZGzA8brX00DzySjAZsFhBFeFNoa01UhX+ZbNIl+MglQeRIZUdUVJBBgaGnI4WkRRDEryCKDT/LISkeFzVThqR3cjTjRFjN4DZBzeS4w9qnlG5gKAd+KqxWKtr6+z2+02m43neZvNVl1dXVFRMT09jeN16zaDBt5cgo4actfTTCobfS3obQHPEru5ZB4gV22aVBeXR0bLDYaCgoLi4mK9Xp+fn6/X65uamjiOCwaD+LrbkAmKrlVKDs+is45idzZEtLsRnzfSK66KZkhmZD8VAexVY+be3/19vX19fT09PUNDQz09PS6Xaz5Ft65d0C6l/BzeG/HIs6TOBhypI5izAZw5go9mKTqC43VrpUY5u3g9yxNOU7RrA01yZx2O7SN3X7TgbNfTZ9pxisNgB77kMfCphKmiOBgFfRxtG1Pjg2FRfBC8H29LIMB55w5dAv0vl+ZRO7nubcFpDv0H0d8qMdponhkFzZYugVynAla13Gmom8UTyLuHVU3D77BG6vLwHtQXwVpIBmemJ4f20LqrTCaV2+IW4Lbv4r8DQtJwfv9l0rie1hTP0lI4ZELl2yhREoBWhhn7iyL1I/ftdNAKjdlNF48gEsLNqy7jemoSHVY467E7H+UadNaibTd5l+tn67OUmXTgjGOLlPrZeE30EUCU8Zt/gt1CDbU2G7vUKNuET8oia1ifGNkG9ImYPOdYnJl4B4D5PVn6IRwShAufMeY0qKRmmbuEmprcGIqS0GZc8dWZ/u8mr1+6+M2ly5c9Hs+IJMPDw/EG8dipYi4kzMlHhu+vuEzvra3Oe74y6xmrfs0xjrWy1hP9pz9gzNv1Or0k70ui0WhycnJcLhfHcV2StLe38zzPcRzP8zEOXtHDixAORzUYCoXE0LmzLpZl5T5jsVhKS0vtdjvty4GA3+/3er2BQMD3ULxer8/n+wfUAxS6kQDpZAAAAABJRU5ErkJggg==&#x27;/%3E%3C/svg%3E&quot;)" src="./deep-dive-how-do-react-hooks-really-work-ko/closure-diagram.jpg"/>
<em>클로저는 함수와 그 함수가 선언됐을 때의 렉시컬 환경(Lexical environment)의 조합이다. - <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Closures">MDN</a></em></p>
<hr/>
<blockquote>
<p>필자의 노트: 이 글에 내용을 덧붙여 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://www.swyx.io/speaking/react-hooks/">발표로 만들었습니다</a>. 또한, 이 글에서는 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://www.swyx.io/speaking/react-not-reactive/">React 스케줄러</a>나 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://medium.com/@dan_abramov/making-sense-of-react-hooks-fdbde8803889">상태가 실제로 React에 저장되는 방식</a>에 대해서는 다루지 않습니다.</p>
</blockquote>
<p>기본적으로 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/hooks">Hooks</a>는 UI의 상태 관련 동작 및 부수 작용(side effects)을 캡슐화하는 가장 간단한 방법입니다. <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://www.youtube.com/watch?v=dpw9EHDh2bM">React에서 처음 도입되어</a>, <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://css-tricks.com/what-hooks-mean-for-vue/">Vue</a>나 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://twitter.com/Rich_Harris/status/1093260097558581250">Svelte</a>와 같은 다른 프레임워크에 광범위하게 도입되었으며 심지어는 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://github.com/getify/TNG-Hooks">일반적인 함수형 자바스크립트</a>에서도 응용되고 있습니다. 하지만 Hook의 함수 기반 설계를 이해하려면 먼저 JavaScript 클로저에 대해 잘 이해하고 있어야 합니다.</p>
<p>이 글에서는 React Hooks의 작은 복제본을 만들어보며 클로저에 대해 되짚어볼 것입니다. 이는 두 가지 목적이 있습니다. - 클로저를 효과적으로 사용하는 방법에 대해 알아보는 것과 29줄의 읽기 쉬운 JS 코드로 Hook 클론을 구축하는 방법에 대해 살펴보는 것입니다. 최종적으로 어떻게 Custom Hooks가 자연스럽게 나오게 되는지도 알 수 있을 것입니다.</p>
<blockquote>
<p>⚠️ 주의: Hooks를 이해하기 위해 아래 작업을 수행할 필요는 없습니다. 아래 과정을 따라 해보면 JS 기초에 도움이 될 수 있습니다. 걱정하지는 마세요. 그렇게 어렵지는 않습니다!</p>
</blockquote>
<h2>클로저란 무엇인가?</h2>
<p>Hooks가 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/docs/hooks-intro.html#classes-confuse-both-people-and-machines">내세우는 많은 장점</a> 중 하나는 클래스와 고차 컴포넌트의 복잡성을 피할 수 있다는 것입니다. 그러나 hooks를 사용하면 그 문제가 그저 다른 문제로 바뀐 것처럼 느껴지기도 합니다. <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://overreacted.io/how-are-function-components-different-from-classes/">bind된 컨텍스트에 대해 걱정</a>할 필요가 없는 대신 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://overreacted.io/making-setinterval-declarative-with-react-hooks/">클로저에 대해 걱정</a>해야 하기 때문입니다. <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://twitter.com/markdalgleish/status/1095025468367990784">Mark Dalgleish</a>가 이에 대해 명쾌하게 정리해주었습니다.</p>
<p><img alt="React Hook와 클로저에 관한 스타워즈 드립" title="React Hook와 클로저에 관한 스타워즈 드립" loading="lazy" width="1000" height="1190" decoding="async" data-nimg="1" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 1000 1190&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAgCAIAAABsC5RsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAJNklEQVR4nG1Wa1Ab1xXeSeIECCABkvYlVo9drVa7eoAeq9UTSSCtkAQCCQnzEAIEGGwMNgQMjnnETyDY4FfsGBIc08QxtevYSeykjp2kzdS1UztNJ3Wm7jTpa5pf7Z/8bzuSEzft9M43d+6cuXPvOef7Zs4HlKssnZlBuy+iZavd/gbWWesMxDx83O1vgHBjMUQJEfr/A2VgTxoNj0K126HQqMRUL4BIIcIAwWjzbz+/v7h01OSs9Udabd5oKNYRiqUsziCoqBAidAnKPN4fHbKA1UKFVTf/q/bLf09f/Kb96rdI3ytlsKpUpgcQwlyfSBm56iJYU4wwJVJtqVRXICGfLlUWSMhiiCoE1QJYXQz9F4pAVTGoEqpcwoqw2BiBzPWlBCeE1UKEBoQIgxBmVGVBcJNUxco0HKqy4FoHhFdilBVVWeQ0B+NGhDBLSRajrFKSlZKsnOakJKvQmGEZLRArBRJlruRsEUAJygSjbanMdhcfd/obA3VJFx9PpLYYrH6+roWPtvrCyapA3OTg2aqQN5R0BqK+SDKR2mJxBYOxlMkRzCsjSqU64fdtATDSGo6nrZ5wdSiR7BiwOIN8Xaujur62sd1b25RI9fPR1khTOtjQFk128dHmeEuPMxB18bFwotMXaXZU1/sjzZSx6jFjAKioNLB+UFEhpzna7EFVFsroJgyOcjWLa+241k7onJSxSsnYGItPXek22XmZJluy2cEzrFem4XDGJpEbBPB3qgAEMFUEqgRwloECCSGAs10vBL9r/yMU5CIFErIIVOWLVY/IyRerctSpc9Rp/pPj4xcffVKC5MSRQynKlEqZEvSRYujvI9rvL+QOufvCH+gUIAyOlu5BbyjuDcVFMm0xRGbThNUFoLoQogohKqsqlBYijBDVFoLqfAlRAGYhgEgBov4BKAGSzQlACYvT26Q1+unKGhS3ilAjWG4GMZNaa5ERBjlhKMd1IKIug0hhGY5TJqayiqDdBONClFYJasqi3CQqN4lQowipLEEYQKGq4W3TvHU8YNnl1o96jGMu3XNLuw+cmGjOBOwDtY6ITuHGoChDDfi8ozG+m284N7exevBmqn7RpunnNH12eoijhk142oB1gCgLkJpQc81CnWtPrW3Kqd3BqYeSgen3zi70eE19flNYg/FKSUpHHIi6V3ujFye3eTHVbPu25Z0bLYHDLt0Ip9nq0AzZqCEz0WvAuiDUCqjoQEPVrMe006kfZMmMoqx9vP/QW6/uHo65klZ1q5EYYHUTfvO+iH25NfDw+tpL48MZp3cqvcxzU279kJHoNhEZE9FtkHVQcKsEyeXYyi/W2iad2h0Vii4wL3xm4egv318cauDSTtUWMz5epZ0OWvbw5pWB6N/uX7t3dW1nJDiWmAuyz9eYRziq30puYcn+CrxbA7dIIBaQYg5WlTbImglRFH3W+SQgP7Ew+9lHL5+YaB/fXNWmAwdd6pOdkVf7469sq11/vvXupbnDg70Jx6hDO8KqemlpKy1tMchbGKRJWRYXQSwAYWwlkVTBYYWoWvyMEQDAnan0gxun7944d2FprM2s6jDrXwhzr4+nDrbW7InV3Lt0ZH3fkfbIoZjvhRrzSKWyQyqKSkuC5YJqsNAnEFUAbm/Lmbkbg21LQcegg+5UgonR6vSDqye/+cudiaSr06rqMutDZQWTPLs+3rUy1H7vzcO/+fDOl59++/HVh++ef3Bq7nrf5mMhx+4q47CT7oPLHQCj83VFxtzaZrLUgT6rLwBwBjW+vbzrX//868pkprdCut1OJ+XobKT6i/PHz4+mfv/uyxsn12aGV3YPvryr/3Rv8qDP2q8tbyBEfLkwIBQbAAmiKMnLA3IrDygBgPxnAeFCT/IfD25eP7t3b5SdCXLdOtmRJu8705kPlif+/OG5hDcAALIiQCsE9AKAFgC0CCAhQC0BGGGJGoBlSkoFI6VCCVDupxv3ZEZSwdHl8ck/fXrx/bNTM1F6h0vdY8JGOHI+Zvz84t5PfjRvBr0WuLY/vKXO3ldt6gmbM41sbwPbk+AGCKUTEMGYVJInKy6GgWJFvjzDJ+cGT15ZvfLgzqW7by9fmu96IVbRXSkbZi0H6vy3Tg9cOr6PkzbrRd6Ur2Vb3fjJifPj7Yv99VN9kcnh6KxRHwSEErS4ABBvyrPgkkzEo35a7ZKGFrad+Or2zx7effXS8YEOBn6uSjvf6L4y3Xl2JHz+8P6dbfsz/uGgpjlhTh4ZPXzh6BtLY0eXJk/c+vEtnycOQKhCId70BAC4tNjawT5ex3UG247tWbh38/LGkYGfro0kNEgLCU3XV5zZUXt60PfGwugHl68dnzj14alru5PjpiLX6anpP9z+5OqFi7duvseHE0CJGFGWAUYVNj/Rd/u9ldvX1u/feu3rz6+/8/oJ9VPAW8eHfnKgPaURToY1r43X701YF3dkvv71xz+/vPHV7ft33rhxKL3rzGTPSzNj546tvP7KajUfA/QWbn1l9va11Q8uLF9e27s6NzDbVzu/o31pqh8XCJ0UcWyifarTN5Z0ZwJGTgbvH9t25ezBC8dGP7u5/uUvrv7x/ke/++T8dF+6v7F/YXKW5aqBUDh0Y31mcTQ22e7c18c/3+Xdla4aijt29zV0bm6oj0ZDwWDL5mS8sYH3eRNN0eGhrbsGU6vTmY0Xt6/NpK+tznxxa+Ph3XfePHk8bveKSjEAw7Ueq85l0fht+hrO6LHqPHaTw6Sv9bodHCeX4TKZUi5TgmIIlyvqQ8He7nRjiN/amuxuCsVrbFvbYkOZ1MhA96ml/cvzh3C1GSjB9BBhRSi7EDOCBAuTNoSyF6O6PAlZCFHFCCOA6ZzX0BXBmkKQyheT+RLyGTGZJ1Hng9QmMbmpjHhKiAP5sieEykeegi6VMmKZrlTKiDBtqVQrxnRlufGUL86OwEKIypcQTwoUhZC6CKaygxBhcvGsJxFhWhGmE2E6MaYTy3QlKAPIaU5v80tJDiWtGGXlPHVy2i6RV+AMt3X7c4FgsjPVsXVg+6FDh8d3DkWauu3BhIW1N29OdXZ2cQ5vvoT831kIKiowygriJhg3QbhRkXU5JrFMjxIWmydCGpxqhjXZaiKxlN7iYyzVBquPpM0VbE0F65WTJsFjt5aDEKH/Dbg6vqG0fN3sAAAAAElFTkSuQmCC&#x27;/%3E%3C/svg%3E&quot;)" src="./deep-dive-how-do-react-hooks-really-work-ko/tweet-mark-dalgleish-hooks.jpg"/></p>
<p>클로저는 JS의 기본적인 개념이지만 많은 갓 시작한 개발자에게 혼란을 주는 것으로도 악명이 높습니다. <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/scope-closures/ch6.md">You Don’t Know JS</a>의 저자로 유명한 카일 심슨(Kyle Simpson)은 클로저를 다음과 같이 정의하였습니다.</p>
<p><em>클로저는 함수가 속한 렉시컬 스코프를 기억하여 함수가 렉시컬 스코프 밖에서 실행될 때에도 이 스코프에 접근할 수 있게 하는 기능을 뜻한다.</em></p>
<p>이는 명백히 렉스컬 스코핑(함수가 중첩될 때 파서가 변수의 이름을 해석하는 방법 - <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures">MDN</a>)의 개념과 밀접한 관련이 있습니다. 더 명쾌하게 설명하기 위해 실용적인 예를 살펴보겠습니다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="js" data-theme="light dark"><code data-language="js" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 예제 0</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">initialValue</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  var</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> _val</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> initialValue</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // _val은 useState에 의해 만들어진 지역 변수입니다.</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> state</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() {</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">    // state는 내부 함수이자 클로저입니다.</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">    return</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> _val</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // state()는 부모 함수에 정의된 _val을 참조합니다.</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">newVal</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">    // 마찬가지</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">    _val</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> newVal</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // _val를 노출하지 않고 _val를 변경합니다.</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">state</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">setState</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // 외부에서 사용하기 위해 함수들을 노출</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">var</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">foo</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">setFoo</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">] </span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E">0</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 배열 구조분해 사용</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">console</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">log</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">foo</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()) </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 0 출력 - 위에서 넘긴 initialValue</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">setFoo</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E">1</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// useState의 스코프 내부에 있는 _val를 변경합니다.</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">console</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">log</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">foo</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()) </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 1 출력 - 동일한 호출하지만 새로운 initialValue</span></span></code></pre></figure>
<p>React의 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useState</span></span></code></span> Hook의 아주 기본적인 형태의 복제본을 만들어 보았습니다. 이 함수에는 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>state</span></span></code></span>와 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>setState</span></span></code></span>라는 두 개의 내부 함수가 있습니다. <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>state</span></span></code></span>는 상단에 정의된 지역 변수 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>_val</span></span></code></span>를 반환하고, <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>setState</span></span></code></span>는 전달 된 매개 변수 (예: <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>newVal</span></span></code></span>)로 지역 변수를 설정합니다.</p>
<p>여기서 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>state</span></span></code></span>는 게터 함수로 구현하여 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://twitter.com/sebmarkbage/status/1098809296396009472">이상적이지는 않지만</a>, 이는 조금 뒤에 수정하겠습니다. 중요한 것은 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>foo</span></span></code></span>와 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>setFoo</span></span></code></span>를 사용하여 내부 변수 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>_val</span></span></code></span>에 접근하고 조작(일명 “덮어쓰기”) 할 수 있다는 것입니다. 이 둘은 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useState</span></span></code></span>의 스코프에 대한 접근 권한을 가지고 있고, 이러한 참조를 클로저라고 합니다. React와 다른 프레임워크의 맥락에서 보면 이것은 ‘상태’라고 할 수 있고 실제로도 그렇습니다.</p>
<p>클로저에 대해 더 자세히 알아보려면 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures">MDN</a>, <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/scope-closures/ch6.md">YDKJS</a> 및 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://medium.com/dailyjs/i-never-understood-javascript-closures-9663703368e8">DailyJS</a>에서 해당 주제에 대해 읽어보는 것을 추천합니다. 하지만 위의 샘플 코드가 이해된다면 그 정도로도 충분합니다.</p>
<h2>함수형 컴포넌트에서 사용하기</h2>
<p>새로 만든 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useState</span></span></code></span> 복제본을 익숙한 형태에 적용해보겠습니다. <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>Counter</span></span></code></span> 컴포넌트를 만들어보겠습니다!</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="js" data-theme="light dark"><code data-language="js" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 예제 1</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  const</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">setCount</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">] </span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E">0</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 위에 useState와 같음</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> {</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    click</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setCount</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() </span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">+</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E"> 1</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">),</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    render</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> console</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">log</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;render:&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, { </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() }),</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> C</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">C</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// render: { count: 0 }</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">C</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">click</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">C</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// render: { count: 1 }</span></span></code></pre></figure>
<p>여기서는 DOM으로 렌더링하는 대신 상태를 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>console.log</span></span></code></span>로 출력하도록 하겠습니다. 또한 카운터에 프로그램적인 API를 노출하여 이벤트 핸들러를 붙이는 대신 스크립트로 실행할 수 있도록 하였습니다. 이러한 설계를 통해 컴포넌트 렌더링을 시뮬레이션하고 사용자 작업에 반응할 수 있습니다.</p>
<p>이 코드가 동작할 때 상태(state)에 접근하기 위해 게터 함수를 호출하는 것은 실제 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>React.useState</span></span></code></span> hook의 API와 다릅니다. 이것도 수정해보도록 하겠습니다.</p>
<h2>오래된 클로저 (Stale Closure)</h2>
<p>실제 React API와 동일하게 만들려면 state가 함수가 아닌 변수여야 합니다. 단순히 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>_val</span></span></code></span>을 함수로 감싸지 않고 노출하면 버그가 발생합니다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="js" data-theme="light dark"><code data-language="js" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 예제 0, 다시보기 - 버그 있음 주의!</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">initialValue</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  var</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> _val</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> initialValue</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">  // state() 함수 없음</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">newVal</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">    _val</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> newVal</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">_val</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">setState</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // _val를 그대로 노출</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">var</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">foo</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">setFoo</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">] </span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E">0</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">console</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">log</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">foo</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 함수 호출 할 필요 없이 0 출력</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">setFoo</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E">1</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// useState의 스코프 내부에 있는 _val를 변경합니다.</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">console</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">log</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">foo</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 0 출력 - 헐!!</span></span></code></pre></figure>
<p>이것은 오래된 클로저 문제의 한 형태입니다. <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useState</span></span></code></span>의 결과에서 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>foo</span></span></code></span>를 비구조화할 때 초기 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useState</span></span></code></span> 호출에서 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>_val</span></span></code></span>을 참조하고… 다시는 변경되지 않습니다! 이는 우리가 의도한 바와 다릅니다. 일반적으로 <em>현재</em> 상태를 반영하기 위해 컴포넌트의 상태가 필요하지만, 이는 함수 호출이 아닌 단지 변수일 뿐입니다! 이 두 가지 목표는 절대 같이 갈 수 없는 것처럼 보입니다.</p>
<h2>모듈 안에서의 클로저</h2>
<p>이 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useState</span></span></code></span>의 난제는… 우리의 클로저를 또 다른 클로저의 내부로 이동시켜서 해결할 수 있습니다! (<em>클로저를 좋아하는 것 같아서 일단 더 넣어봤어…</em>)</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="js" data-theme="light dark"><code data-language="js" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 예제 2</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  let</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> _val</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // 모듈 스코프 안에 state를 잡아놓습니다.</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> {</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">Component</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> Comp</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Component</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">      Comp</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      return</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> Comp</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    },</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">initialValue</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">      _val</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> _val</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> ||</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> initialValue</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // 매 실행마다 새로 할당됩니다.</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">newVal</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">        _val</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> newVal</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">      }</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      return</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">_val</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">setState</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    },</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">})()</span></span></code></pre></figure>
<p>작은 React 복제본을 만들기 위해 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://addyosmani.com/resources/essentialjsdesignpatterns/book/#modulepatternjavascript">모듈 패턴</a>을 사용하였습니다. React와 마찬가지로 컴포넌트의 상태를 추적합니다. (이 예제에서는 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>_val</span></span></code></span>로 한 컴포넌트의 상태만 추적). 이 설계를 통해 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>MyReact</span></span></code></span>는 함수형 컴포넌트를 “render”할 수 있고, 매번 항상 올바른 클로저를 통해 내부의 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>_val</span></span></code></span> 값을 할당할 수 있습니다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="js" data-theme="light dark"><code data-language="js" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 예제 2로 부터 이어짐</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  const</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">setCount</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">] </span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E">0</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> {</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    click</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setCount</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> +</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E"> 1</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">),</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    render</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> console</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">log</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;render:&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, { </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> }),</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">let</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> App</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// render: { count: 0 }</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">click</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// render: { count: 1 }</span></span></code></pre></figure>
<p>이제 React의 Hooks와 훨씬 비슷해졌습니다!</p>
<p><a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/scope-closures/ch6.md#modules">YDKJS에서 모듈 패턴과 클로저에 대한 더 자세한 내용</a>을 읽을 수 있습니다.</p>
<h2><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useEffect</span></span></code></span> 복제하기</h2>
<p>지금까지 첫 번째 기본 React Hook인 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useState</span></span></code></span>에 대해 살펴보았습니다. 다음으로 가장 중요한 Hook은 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useEffect</span></span></code></span>입니다. <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>setState</span></span></code></span>와 달리 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useEffect</span></span></code></span>는 비동기로 실행되므로 클로저 문제가 발생할 가능성이 더 높습니다.</p>
<p>지금까지 만들어놓은 작은 React 모델에 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useEffect</span></span></code></span>를 추가해보겠습니다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="js" data-theme="light dark"><code data-language="js" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// Example 3</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  let</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> _val</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">_deps</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // 스코프 안에서 상태와 의존성을 잡아 놓습니다.</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> {</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">Component</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> Comp</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Component</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">      Comp</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      return</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> Comp</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    },</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    useEffect</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">callback</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">depArray</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> hasNoDeps</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> !</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">depArray</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> hasChangedDeps</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> _deps</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">        ?</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> !</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">depArray</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">every</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">((</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">el</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">i</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> el</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> ===</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> _deps</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">[</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">i</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">        :</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E"> true</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      if</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">hasNoDeps</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> ||</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> hasChangedDeps</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">        callback</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">        _deps</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> depArray</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">      }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    },</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">initialValue</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">      _val</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> _val</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> ||</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> initialValue</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">newVal</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">        _val</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> newVal</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">      }</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      return</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">_val</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">setState</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    },</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">})()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 사용하는 곳</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  const</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">setCount</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">] </span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E">0</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">  MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">useEffect</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(() </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> {</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">    console</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">log</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;effect&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }, </span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">[</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> {</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    click</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setCount</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> +</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E"> 1</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">),</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    noop</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setCount</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">),</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    render</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> console</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">log</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;render&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, { </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> }),</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">let</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> App</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 이펙트 0</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// render {count: 0}</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">click</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 이펙트 1</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// render {count: 1}</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">noop</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// // 이펙트가 실행되지 않음</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// render {count: 1}</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">click</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 이펙트 2</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// render {count: 2}</span></span></code></pre></figure>
<p>의존성을 추적하기 위해(의존성이 변경될 때 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useEffect</span></span></code></span>가 다시 실행되므로), 이를 추적하는 별도의 변수, <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>_deps</span></span></code></span>를 추가하였습니다.</p>
<h2>마법이 아니라 배열일 뿐</h2>
<p>지금까지 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useState</span></span></code></span>와 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useEffect</span></span></code></span>의 기능을 그럴듯하게 갖춘 복제본을 만들었습니다. 하지만 둘 다 잘못 구현된 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://en.wikipedia.org/wiki/Singleton_pattern">싱글톤</a> 형태입니다. (각각 하나 이상이 존재하면 버그가 발생합니다.) 좀 더 흥미로운 것들을 구현하려면 (그리고 오래된 클로저에 대한 마지막 예제를 보여드리려면) 여러 개의 상태(state)와 효과(effect)를 받을 수 있는 일반적인 형태로 구현되어야 합니다. 다행히 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://medium.com/@ryardley/react-hooks-not-magic-just-arrays-cd4f1857236e">Rudi Yardley의 글처럼</a>, React Hooks는 마법이 아니라 배열일 뿐입니다. <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>hooks</span></span></code></span> 배열을 추가해봅시다. 또한 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>_val</span></span></code></span>과 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>_deps</span></span></code></span>가 서로 겹쳐지지 않기 때문에 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>hooks</span></span></code></span> 배열에 하나로 합칠 수 있습니다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="js" data-theme="light dark"><code data-language="js" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 예제 4</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  let</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> hooks</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> []</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">,</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">    currentHook</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E"> 0</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // Hook 배열과 반복자(iterator)!</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> {</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">Component</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> Comp</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Component</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 이펙트들이 실행된다.</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">      Comp</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">      currentHook</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E"> 0</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // 다음 렌더를 위해 초기화</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      return</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> Comp</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    },</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    useEffect</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">callback</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">depArray</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> hasNoDeps</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> !</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">depArray</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> deps</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> hooks</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">[</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">currentHook</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // type: array | undefined</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> hasChangedDeps</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> deps</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">        ?</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> !</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">depArray</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">every</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">((</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">el</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">i</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> el</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> ===</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> deps</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">[</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">i</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">        :</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E"> true</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      if</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">hasNoDeps</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> ||</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> hasChangedDeps</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">        callback</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">        hooks</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">[</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">currentHook</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> depArray</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">      }</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">      currentHook</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">++</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // 이 Hook에 대한 작업 완료</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    },</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">initialValue</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">      hooks</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">[</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">currentHook</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> hooks</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">[</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">currentHook</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> ||</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> initialValue</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // type: any</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> setStateHookIndex</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> currentHook</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // setState의 클로저를 위해!</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      const</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setState</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">newState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">hooks</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">[</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">setStateHookIndex</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> newState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      return</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">hooks</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">[</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">currentHook</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">++</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">setState</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    },</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">})()</span></span></code></pre></figure>
<p>여기서 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>setStateHookIndex</span></span></code></span>를 사용하는 것이 아무 의미 없는 것처럼 보이지만, <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>setState</span></span></code></span>에서 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>currentHook</span></span></code></span> 변수가 덮어 씌워지는 것을 방지하는 데 사용됩니다! 해당 부분을 제거하면, 덮어 씌워진 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>currentHook</span></span></code></span>은 오래된 클로저 문제를 일으켜 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>setState</span></span></code></span>를 다시 호출했을 때 동작하지 않습니다. (직접 시도해보세요!)</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="js" data-theme="light dark"><code data-language="js" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 예제 4로 부터 이어짐 - 사용하는 곳</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  const</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">setCount</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">] </span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E">0</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  const</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">text</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">setText</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">] </span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;foo&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 두번 째 상태 Hook!</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">  MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">useEffect</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(() </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> {</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">    console</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">log</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;effect&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">text</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }, </span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">[</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">text</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> {</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    click</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setCount</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> +</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E"> 1</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">),</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    type</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">txt</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setText</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">txt</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">),</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    noop</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setCount</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">),</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    render</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> console</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">log</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;render&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, { </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">text</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> }),</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">let</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> App</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 이펙트 0 foo</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// render {count: 0, text: &#x27;foo&#x27;}</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">click</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 이펙트 1 foo</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// render {count: 1, text: &#x27;foo&#x27;}</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">type</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;bar&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 이펙트 1 bar</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// render {count: 1, text: &#x27;bar&#x27;}</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">noop</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// // 이펙트가 실행되지 않음</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// render {count: 1, text: &#x27;bar&#x27;}</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">click</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Counter</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 이펙트 2 bar</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// render {count: 2, text: &#x27;bar&#x27;}</span></span></code></pre></figure>
<p>위와 같이, 기본적인 개념은 Hook의 배열과 각 Hook이 호출될 때 증가하고 컴포넌트가 렌더링 될 때 초기화되는 인덱스를 갖는 것입니다.</p>
<p>여기까지 왔다면 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/docs/hooks-custom.html">custum hooks</a>에 대한 이해는 어려울 것이 전혀 없습니다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="js" data-theme="light dark"><code data-language="js" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 예제 4, 다시보기</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Component</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  const</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">text</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">setText</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">] </span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> useSplitURL</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;www.netlify.com&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> {</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    type</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">txt</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setText</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">txt</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">),</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">    render</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> () </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> console</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">log</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">({ </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">text</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> }),</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> useSplitURL</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">str</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  const</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">text</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">setText</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">] </span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">str</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  const</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> masked</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> text</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">split</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;.&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">masked</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">setText</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">let</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> App</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Component</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// { text: [ &#x27;www&#x27;, &#x27;netlify&#x27;, &#x27;com&#x27; ] }</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">type</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;www.reactjs.org&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">App</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> MyReact</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Component</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// { text: [ &#x27;www&#x27;, &#x27;reactjs&#x27;, &#x27;org&#x27; ] }}</span></span></code></pre></figure>
<p><strong>이것은 Hook이 “마술이 아니라는 것”을 명백히 보여줍니다.</strong> – 커스텀 Hook은 프레임워크가 제공하는 원형(그것이 React이든, 우리가 만든 작은 복제본이든)으로 부터 쉽게 빠져나옵니다.</p>
<h2>Hook 규칙 도출하기</h2>
<p>이제 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/docs/hooks-rules.html">Hook 규칙</a> 중 첫 번째인 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/docs/hooks-rules.html#only-call-hooks-at-the-top-level">“최상위에서만 Hook을 호출해야 합니다”</a>를 대략 이해할 수 있을 것입니다. <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>currentHook</span></span></code></span> 변수를 사용하여 호출 순서에 대한 React의 의존성을 명시적으로 모델링 했습니다. 우리가 구현한 것을 염두에 두고 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/docs/hooks-rules.html#explanation">전체 규칙에 대한 설명</a> 부분을 읽어보면 전체 맥락이 잘 이해될 것입니다.</p>
<p>또한 두 번째 규칙인 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/docs/hooks-rules.html#only-call-hooks-from-react-functions">“오직 React 함수 내에서 Hook을 호출해야 합니다.”</a>는 우리가 구현한 코드에서는 필수적이지 않지만, 항상 코드의 어떤 부분이 상태 관련 로직에 의존하는지 명확하게 구분하는 것은 좋은 습관입니다. (긍정적인 부수효과로, 반복문과 조건문 내부에서 일반 JavaScript 함수처럼 이름 붙여진 상태 관련 함수를 호출하는 실수를 하지 않게 됩니다. 즉, 두 번째 규칙을 따르는 것이 첫 번째 규칙을 따르는 데 도움이 됩니다.)</p>
<h2>결론</h2>
<p>여기까지 이 글에서 학습해볼 내용은 다 다루었습니다. 이제 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://www.reddit.com/r/reactjs/comments/aufijk/useref_is_basically_usestatecurrent_initialvalue_0/">useRef를 한 줄로 구현해보거나</a> <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://www.npmjs.com/package/vdom">render 함수가 JSX를 받아 실제로 DOM에 마운트 하도록 해보거나</a> 우리가 구현한 28줄의 React Hooks 복제본에서는 생략한 무수히 많은 세부 사항을 추가해볼 수도 있습니다. 아무쪼록 컨텍스트에서 클로저를 사용하는 경험과 React Hook이 동작하는 방식을 이해하는 유용한 멘탈 모델을 얻으셨기를 바랍니다.</p>
<p><em>이 글의 초안을 검토하고 값진 피드백으로 개선해 준 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://twitter.com/dan_abramov">Dan Abramov</a>와 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://twitter.com/shortdiv">Divya Sasidharan</a>에게 감사의 말을 전합니다. 오류가 남아있다면 그건 제 탓입니다..</em></p><hr/></div></article></main><script src="/_next/static/chunks/webpack-478d9e9ec4cf4901.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/e1c529c04de64b40-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/a279f74e0e8e63c1.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:HL[\"/_next/static/css/6c756f5ba594f113.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"5:I[7690,[],\"\"]\n8:I[5613,[],\"\"]\na:I[1778,[],\"\"]\nb:I[7674,[\"901\",\"static/chunks/901-e0981abc5db6695f.js\",\"185\",\"static/chunks/app/layout-c6b70a57992e0736.js\"],\"\"]\nd:I[8955,[],\"\"]\n9:[\"slug\",\"deep-dive-how-do-react-hooks-really-work-ko\",\"d\"]\ne:[]\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/a279f74e0e8e63c1.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L5\",null,{\"buildId\":\"vTy-FtuRddsA5DDS4Kpbw\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/deep-dive-how-do-react-hooks-really-work-ko\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"deep-dive-how-do-react-hooks-really-work-ko\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"deep-dive-how-do-react-hooks-really-work-ko\\\"}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"deep-dive-how-do-react-hooks-really-work-ko\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L6\",\"$L7\",null]]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$9\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/6c756f5ba594f113.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}],null]]},[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[\"$\",\"body\",null,{\"className\":\"mx-auto max-w-2xl bg-[--bg] px-5 py-12 text-[--text]\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-14 flex flex-row place-content-between\",\"children\":[\"$\",\"$Lb\",null,{}]}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"article\",null,{\"className\":\"markdown\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-[40px] font-bold leading-[44px] text-[--title]']\",\"children\":\"Not found\"}],[\"$\",\"div\",null,{\"className\":\"markdown mt-10\",\"children\":[\"$\",\"p\",null,{\"children\":\"This page doesn’t exist (yet?)\"}]}]]}],\"notFoundStyles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/6c756f5ba594f113.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],\"styles\":null}]}]]}]}],null]],\"initialHead\":[false,\"$Lc\"],\"globalErrorComponent\":\"$d\",\"missingSlots\":\"$We\"}]]\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"article\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-[2.5rem] leading-tight font-bold text-[--title] break-keep\",\"children\":\"[번역] 심층 분석: React Hook은 실제로 어떻게 동작할까?\"}],[\"$\",\"time\",null,{\"dateTime\":\"2019-11-26\",\"className\":\"text-[13px] text-gray-400 dark:text-gray-500 font-mono flex mt-2\",\"children\":\"November 26, 2019\"}],[\"$\",\"div\",null,{\"className\":\"markdown mt-10\",\"children\":[\"$Lf\",[\"$\",\"hr\",null,{}]]}]]}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"[번역] 심층 분석: React Hook은 실제로 어떻게 동작할까? — Hewon Jeong\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"React Hook에 대해 이해하려면 JavaScript 클로저에 대해 잘 알아야합니다. React의 작은 복제본을 만들어보며 클로저와 hook의 동작 방식을 알아봅니다.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/icon.png?dd72987ff3bd4997\",\"type\":\"image/png\",\"sizes\":\"160x160\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"6:null\n"])</script><script>self.__next_f.push([1,"10:I[6906,[\"901\",\"static/chunks/901-e0981abc5db6695f.js\",\"749\",\"static/chunks/749-eb70e03c44394694.js\",\"42\",\"static/chunks/app/%5Bslug%5D/page-2b03d7246e3b97dc.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"p\",null,{\"children\":[[\"$\",\"$L10\",null,{\"href\":\"https://www.netlify.com/blog/2019/03/11/deep-dive-how-do-react-hooks-really-work/\",\"children\":\"Deep dive: How do React hooks really work?\"}],\"을 저자, \",[\"$\",\"$L10\",null,{\"href\":\"https://twitter.com/swyx\",\"children\":\"Swyx\"}],\"의 허락을 받고 번역한 글입니다. 오타, 오역은 \",[\"$\",\"$L10\",null,{\"href\":\"https://github.com/hewonjeong/hewonjeong.github.io/issues/new\",\"children\":\"제보\"}],\"해주시면 수정하도록 하겠습니다.👍🏻\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$L11\",\"\\n\",[\"$\",\"em\",null,{\"children\":[\"클로저는 함수와 그 함수가 선언됐을 때의 렉시컬 환경(Lexical environment)의 조합이다. - \",[\"$\",\"$L10\",null,{\"href\":\"https://developer.mozilla.org/ko/docs/Web/JavaScript/Guide/Closures\",\"children\":\"MDN\"}]]}]]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"필자의 노트: 이 글에 내용을 덧붙여 \",[\"$\",\"$L10\",null,{\"href\":\"https://www.swyx.io/speaking/react-hooks/\",\"children\":\"발표로 만들었습니다\"}],\". 또한, 이 글에서는 \",[\"$\",\"$L10\",null,{\"href\":\"https://www.swyx.io/speaking/react-not-reactive/\",\"children\":\"React 스케줄러\"}],\"나 \",[\"$\",\"$L10\",null,{\"href\":\"https://medium.com/@dan_abramov/making-sense-of-react-hooks-fdbde8803889\",\"children\":\"상태가 실제로 React에 저장되는 방식\"}],\"에 대해서는 다루지 않습니다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"기본적으로 \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/hooks\",\"children\":\"Hooks\"}],\"는 UI의 상태 관련 동작 및 부수 작용(side effects)을 캡슐화하는 가장 간단한 방법입니다. \",[\"$\",\"$L10\",null,{\"href\":\"https://www.youtube.com/watch?v=dpw9EHDh2bM\",\"children\":\"React에서 처음 도입되어\"}],\", \",[\"$\",\"$L10\",null,{\"href\":\"https://css-tricks.com/what-hooks-mean-for-vue/\",\"children\":\"Vue\"}],\"나 \",[\"$\",\"$L10\",null,{\"href\":\"https://twitter.com/Rich_Harris/status/1093260097558581250\",\"children\":\"Svelte\"}],\"와 같은 다른 프레임워크에 광범위하게 도입되었으며 심지어는 \",[\"$\",\"$L10\",null,{\"href\":\"https://github.com/getify/TNG-Hooks\",\"children\":\"일반적인 함수형 자바스크립트\"}],\"에서도 응용되고 있습니다. 하지만 Hook의 함수 기반 설계를 이해하려면 먼저 JavaScript 클로저에 대해 잘 이해하고 있어야 합니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이 글에서는 React Hooks의 작은 복제본을 만들어보며 클로저에 대해 되짚어볼 것입니다. 이는 두 가지 목적이 있습니다. - 클로저를 효과적으로 사용하는 방법에 대해 알아보는 것과 29줄의 읽기 쉬운 JS 코드로 Hook 클론을 구축하는 방법에 대해 살펴보는 것입니다. 최종적으로 어떻게 Custom Hooks가 자연스럽게 나오게 되는지도 알 수 있을 것입니다.\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":\"⚠️ 주의: Hooks를 이해하기 위해 아래 작업을 수행할 필요는 없습니다. 아래 과정을 따라 해보면 JS 기초에 도움이 될 수 있습니다. 걱정하지는 마세요. 그렇게 어렵지는 않습니다!\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"클로저란 무엇인가?\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Hooks가 \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/docs/hooks-intro.html#classes-confuse-both-people-and-machines\",\"children\":\"내세우는 많은 장점\"}],\" 중 하나는 클래스와 고차 컴포넌트의 복잡성을 피할 수 있다는 것입니다. 그러나 hooks를 사용하면 그 문제가 그저 다른 문제로 바뀐 것처럼 느껴지기도 합니다. \",[\"$\",\"$L10\",null,{\"href\":\"https://overreacted.io/how-are-function-components-different-from-classes/\",\"children\":\"bind된 컨텍스트에 대해 걱정\"}],\"할 필요가 없는 대신 \",[\"$\",\"$L10\",null,{\"href\":\"https://overreacted.io/making-setinterval-declarative-with-react-hooks/\",\"children\":\"클로저에 대해 걱정\"}],\"해야 하기 때문입니다. \",[\"$\",\"$L10\",null,{\"href\":\"https://twitter.com/markdalgleish/status/1095025468367990784\",\"children\":\"Mark Dalgleish\"}],\"가 이에 대해 명쾌하게 정리해주었습니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"$L12\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"클로저는 JS의 기본적인 개념이지만 많은 갓 시작한 개발자에게 혼란을 주는 것으로도 악명이 높습니다. \",[\"$\",\"$L10\",null,{\"href\":\"https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/scope-closures/ch6.md\",\"children\":\"You Don’t Know JS\"}],\"의 저자로 유명한 카일 심슨(Kyle Simpson)은 클로저를 다음과 같이 정의하였습니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":\"클로저는 함수가 속한 렉시컬 스코프를 기억하여 함수가 렉시컬 스코프 밖에서 실행될 때에도 이 스코프에 접근할 수 있게 하는 기능을 뜻한다.\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"이는 명백히 렉스컬 스코핑(함수가 중첩될 때 파서가 변수의 이름을 해석하는 방법 - \",[\"$\",\"$L10\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures\",\"children\":\"MDN\"}],\")의 개념과 밀접한 관련이 있습니다. 더 명쾌하게 설명하기 위해 실용적인 예를 살펴보겠습니다.\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"js\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 예제 0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"initialValue\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  var\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" _val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" initialValue\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // _val은 useState에 의해 만들어진 지역 변수입니다.\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" state\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"    // state는 내부 함수이자 클로저입니다.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" _val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // state()는 부모 함수에 정의된 _val을 참조합니다.\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"newVal\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"    // 마찬가지\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    _val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" newVal\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // _val를 노출하지 않고 _val를 변경합니다.\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"state\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // 외부에서 사용하기 위해 함수들을 노출\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"var\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"foo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setFoo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"] \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"0\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 배열 구조분해 사용\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"console\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"foo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()) \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 0 출력 - 위에서 넘긴 initialValue\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setFoo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// useState의 스코프 내부에 있는 _val를 변경합니다.\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"console\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"foo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()) \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 1 출력 - 동일한 호출하지만 새로운 initialValue\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React의 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useState\"}]}]}]}],\" Hook의 아주 기본적인 형태의 복제본을 만들어 보았습니다. 이 함수에는 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"state\"}]}]}]}],\"와 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"setState\"}]}]}]}],\"라는 두 개의 내부 함수가 있습니다. \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"state\"}]}]}]}],\"는 상단에 정의된 지역 변수 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"_val\"}]}]}]}],\"를 반환하고, \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"setState\"}]}]}]}],\"는 전달 된 매개 변수 (예: \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"newVal\"}]}]}]}],\")로 지역 변수를 설정합니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"여기서 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"state\"}]}]}]}],\"는 게터 함수로 구현하여 \",[\"$\",\"$L10\",null,{\"href\":\"https://twitter.com/sebmarkbage/status/1098809296396009472\",\"children\":\"이상적이지는 않지만\"}],\", 이는 조금 뒤에 수정하겠습니다. 중요한 것은 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"foo\"}]}]}]}],\"와 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"setFoo\"}]}]}]}],\"를 사용하여 내부 변수 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"_val\"}]}]}]}],\"에 접근하고 조작(일명 “덮어쓰기”) 할 수 있다는 것입니다. 이 둘은 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useState\"}]}]}]}],\"의 스코프에 대한 접근 권한을 가지고 있고, 이러한 참조를 클로저라고 합니다. React와 다른 프레임워크의 맥락에서 보면 이것은 ‘상태’라고 할 수 있고 실제로도 그렇습니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"클로저에 대해 더 자세히 알아보려면 \",[\"$\",\"$L10\",null,{\"href\":\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Closures\",\"children\":\"MDN\"}],\", \",[\"$\",\"$L10\",null,{\"href\":\"https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/scope-closures/ch6.md\",\"children\":\"YDKJS\"}],\" 및 \",[\"$\",\"$L10\",null,{\"href\":\"https://medium.com/dailyjs/i-never-understood-javascript-closures-9663703368e8\",\"children\":\"DailyJS\"}],\"에서 해당 주제에 대해 읽어보는 것을 추천합니다. 하지만 위의 샘플 코드가 이해된다면 그 정도로도 충분합니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"함수형 컴포넌트에서 사용하기\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"새로 만든 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useState\"}]}]}]}],\" 복제본을 익숙한 형태에 적용해보겠습니다. \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"Counter\"}]}]}]}],\" 컴포넌트를 만들어보겠습니다!\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"js\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 예제 1\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"] \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"0\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 위에 useState와 같음\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    click\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"+\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\" 1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" console\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'render:'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", { \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() }),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" C\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"C\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// render: { count: 0 }\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"C\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"click\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"C\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// render: { count: 1 }\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"여기서는 DOM으로 렌더링하는 대신 상태를 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"console.log\"}]}]}]}],\"로 출력하도록 하겠습니다. 또한 카운터에 프로그램적인 API를 노출하여 이벤트 핸들러를 붙이는 대신 스크립트로 실행할 수 있도록 하였습니다. 이러한 설계를 통해 컴포넌트 렌더링을 시뮬레이션하고 사용자 작업에 반응할 수 있습니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"이 코드가 동작할 때 상태(state)에 접근하기 위해 게터 함수를 호출하는 것은 실제 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"React.useState\"}]}]}]}],\" hook의 API와 다릅니다. 이것도 수정해보도록 하겠습니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"오래된 클로저 (Stale Closure)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"실제 React API와 동일하게 만들려면 state가 함수가 아닌 변수여야 합니다. 단순히 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"_val\"}]}]}]}],\"을 함수로 감싸지 않고 노출하면 버그가 발생합니다.\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"js\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 예제 0, 다시보기 - 버그 있음 주의!\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"initialValue\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  var\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" _val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" initialValue\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"  // state() 함수 없음\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"newVal\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    _val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" newVal\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"_val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // _val를 그대로 노출\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"var\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"foo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setFoo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"] \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"0\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"console\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"foo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 함수 호출 할 필요 없이 0 출력\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setFoo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// useState의 스코프 내부에 있는 _val를 변경합니다.\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"console\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"foo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 0 출력 - 헐!!\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"이것은 오래된 클로저 문제의 한 형태입니다. \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useState\"}]}]}]}],\"의 결과에서 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"foo\"}]}]}]}],\"를 비구조화할 때 초기 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useState\"}]}]}]}],\" 호출에서 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"_val\"}]}]}]}],\"을 참조하고… 다시는 변경되지 않습니다! 이는 우리가 의도한 바와 다릅니다. 일반적으로 \",[\"$\",\"em\",null,{\"children\":\"현재\"}],\" 상태를 반영하기 위해 컴포넌트의 상태가 필요하지만, 이는 함수 호출이 아닌 단지 변수일 뿐입니다! 이 두 가지 목표는 절대 같이 갈 수 없는 것처럼 보입니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"모듈 안에서의 클로저\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"이 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useState\"}]}]}]}],\"의 난제는… 우리의 클로저를 또 다른 클로저의 내부로 이동시켜서 해결할 수 있습니다! (\",[\"$\",\"em\",null,{\"children\":\"클로저를 좋아하는 것 같아서 일단 더 넣어봤어…\"}],\")\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"js\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 예제 2\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  let\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" _val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // 모듈 스코프 안에 state를 잡아놓습니다.\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"Component\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Comp\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Component\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      Comp\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Comp\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"initialValue\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      _val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" _val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" ||\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" initialValue\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // 매 실행마다 새로 할당됩니다.\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"newVal\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"        _val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" newVal\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"_val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"})()\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"작은 React 복제본을 만들기 위해 \",[\"$\",\"$L10\",null,{\"href\":\"https://addyosmani.com/resources/essentialjsdesignpatterns/book/#modulepatternjavascript\",\"children\":\"모듈 패턴\"}],\"을 사용하였습니다. React와 마찬가지로 컴포넌트의 상태를 추적합니다. (이 예제에서는 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"_val\"}]}]}]}],\"로 한 컴포넌트의 상태만 추적). 이 설계를 통해 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"MyReact\"}]}]}]}],\"는 함수형 컴포넌트를 “render”할 수 있고, 매번 항상 올바른 클로저를 통해 내부의 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"_val\"}]}]}]}],\" 값을 할당할 수 있습니다.\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"js\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 예제 2로 부터 이어짐\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"] \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"0\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    click\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" +\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\" 1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" console\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'render:'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", { \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" }),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"let\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" App\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// render: { count: 0 }\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"click\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// render: { count: 1 }\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이제 React의 Hooks와 훨씬 비슷해졌습니다!\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"$L10\",null,{\"href\":\"https://github.com/getify/You-Dont-Know-JS/blob/2nd-ed/scope-closures/ch6.md#modules\",\"children\":\"YDKJS에서 모듈 패턴과 클로저에 대한 더 자세한 내용\"}],\"을 읽을 수 있습니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":[[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useEffect\"}]}]}]}],\" 복제하기\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"지금까지 첫 번째 기본 React Hook인 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useState\"}]}]}]}],\"에 대해 살펴보았습니다. 다음으로 가장 중요한 Hook은 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useEffect\"}]}]}]}],\"입니다. \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"setState\"}]}]}]}],\"와 달리 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useEffect\"}]}]}]}],\"는 비동기로 실행되므로 클로저 문제가 발생할 가능성이 더 높습니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"지금까지 만들어놓은 작은 React 모델에 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useEffect\"}]}]}]}],\"를 추가해보겠습니다.\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"js\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// Example 3\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  let\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" _val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"_deps\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // 스코프 안에서 상태와 의존성을 잡아 놓습니다.\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"Component\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Comp\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Component\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      Comp\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Comp\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    useEffect\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"callback\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"depArray\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" hasNoDeps\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" !\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"depArray\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" hasChangedDeps\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" _deps\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"        ?\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" !\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"depArray\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"every\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"((\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"el\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"i\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" el\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" ===\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" _deps\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"[\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"i\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"        :\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\" true\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      if\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"hasNoDeps\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" ||\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" hasChangedDeps\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"        callback\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"        _deps\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" depArray\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"initialValue\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      _val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" _val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" ||\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" initialValue\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"newVal\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"        _val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" newVal\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"_val\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"})()\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 사용하는 곳\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"] \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"0\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"useEffect\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(() \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    console\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'effect'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }, \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"[\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    click\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" +\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\" 1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    noop\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" console\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'render'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", { \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" }),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"let\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" App\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 이펙트 0\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// render {count: 0}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"click\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 이펙트 1\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// render {count: 1}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"noop\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// // 이펙트가 실행되지 않음\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// render {count: 1}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"click\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 이펙트 2\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// render {count: 2}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"의존성을 추적하기 위해(의존성이 변경될 때 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useEffect\"}]}]}]}],\"가 다시 실행되므로), 이를 추적하는 별도의 변수, \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"_deps\"}]}]}]}],\"를 추가하였습니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"마법이 아니라 배열일 뿐\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"지금까지 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useState\"}]}]}]}],\"와 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useEffect\"}]}]}]}],\"의 기능을 그럴듯하게 갖춘 복제본을 만들었습니다. 하지만 둘 다 잘못 구현된 \",[\"$\",\"$L10\",null,{\"href\":\"https://en.wikipedia.org/wiki/Singleton_pattern\",\"children\":\"싱글톤\"}],\" 형태입니다. (각각 하나 이상이 존재하면 버그가 발생합니다.) 좀 더 흥미로운 것들을 구현하려면 (그리고 오래된 클로저에 대한 마지막 예제를 보여드리려면) 여러 개의 상태(state)와 효과(effect)를 받을 수 있는 일반적인 형태로 구현되어야 합니다. 다행히 \",[\"$\",\"$L10\",null,{\"href\":\"https://medium.com/@ryardley/react-hooks-not-magic-just-arrays-cd4f1857236e\",\"children\":\"Rudi Yardley의 글처럼\"}],\", React Hooks는 마법이 아니라 배열일 뿐입니다. \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"hooks\"}]}]}]}],\" 배열을 추가해봅시다. 또한 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"_val\"}]}]}]}],\"과 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"_deps\"}]}]}]}],\"가 서로 겹쳐지지 않기 때문에 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"hooks\"}]}]}]}],\" 배열에 하나로 합칠 수 있습니다.\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"js\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 예제 4\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  let\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" hooks\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" []\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    currentHook\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\" 0\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // Hook 배열과 반복자(iterator)!\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"Component\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Comp\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Component\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 이펙트들이 실행된다.\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      Comp\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      currentHook\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\" 0\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // 다음 렌더를 위해 초기화\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Comp\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    useEffect\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"callback\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"depArray\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" hasNoDeps\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" !\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"depArray\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" deps\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" hooks\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"[\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"currentHook\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // type: array | undefined\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" hasChangedDeps\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" deps\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"        ?\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" !\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"depArray\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"every\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"((\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"el\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"i\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" el\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" ===\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" deps\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"[\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"i\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"        :\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\" true\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      if\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"hasNoDeps\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" ||\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" hasChangedDeps\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"        callback\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"        hooks\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"[\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"currentHook\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" depArray\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      currentHook\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"++\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // 이 Hook에 대한 작업 완료\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"initialValue\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      hooks\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"[\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"currentHook\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" hooks\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"[\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"currentHook\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" ||\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" initialValue\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // type: any\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setStateHookIndex\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" currentHook\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // setState의 클로저를 위해!\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"newState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"hooks\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"[\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setStateHookIndex\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" newState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"hooks\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"[\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"currentHook\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"++\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"})()\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"여기서 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"setStateHookIndex\"}]}]}]}],\"를 사용하는 것이 아무 의미 없는 것처럼 보이지만, \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"setState\"}]}]}]}],\"에서 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"currentHook\"}]}]}]}],\" 변수가 덮어 씌워지는 것을 방지하는 데 사용됩니다! 해당 부분을 제거하면, 덮어 씌워진 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"currentHook\"}]}]}]}],\"은 오래된 클로저 문제를 일으켜 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"setState\"}]}]}]}],\"를 다시 호출했을 때 동작하지 않습니다. (직접 시도해보세요!)\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"js\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 예제 4로 부터 이어짐 - 사용하는 곳\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"] \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"0\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"text\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setText\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"] \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'foo'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 두번 째 상태 Hook!\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"useEffect\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(() \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    console\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'effect'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"text\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }, \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"[\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"text\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    click\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" +\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\" 1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    type\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"txt\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setText\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"txt\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    noop\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" console\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'render'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", { \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"text\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" }),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"let\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" App\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 이펙트 0 foo\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// render {count: 0, text: 'foo'}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"click\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 이펙트 1 foo\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// render {count: 1, text: 'foo'}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"type\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'bar'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 이펙트 1 bar\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// render {count: 1, text: 'bar'}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"noop\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// // 이펙트가 실행되지 않음\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// render {count: 1, text: 'bar'}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"click\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Counter\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 이펙트 2 bar\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// render {count: 2, text: 'bar'}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"위와 같이, 기본적인 개념은 Hook의 배열과 각 Hook이 호출될 때 증가하고 컴포넌트가 렌더링 될 때 초기화되는 인덱스를 갖는 것입니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"여기까지 왔다면 \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/docs/hooks-custom.html\",\"children\":\"custum hooks\"}],\"에 대한 이해는 어려울 것이 전혀 없습니다.\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"js\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 예제 4, 다시보기\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Component\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"text\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setText\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"] \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" useSplitURL\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'www.netlify.com'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    type\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"txt\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setText\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"txt\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" () \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" console\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"({ \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"text\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" }),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" useSplitURL\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"str\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"text\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setText\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"] \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"str\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  const\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" masked\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" text\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"split\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'.'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"masked\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setText\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"let\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" App\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Component\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// { text: [ 'www', 'netlify', 'com' ] }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"type\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'www.reactjs.org'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"App\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" MyReact\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Component\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// { text: [ 'www', 'reactjs', 'org' ] }}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"이것은 Hook이 “마술이 아니라는 것”을 명백히 보여줍니다.\"}],\" – 커스텀 Hook은 프레임워크가 제공하는 원형(그것이 React이든, 우리가 만든 작은 복제본이든)으로 부터 쉽게 빠져나옵니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Hook 규칙 도출하기\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"이제 \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/docs/hooks-rules.html\",\"children\":\"Hook 규칙\"}],\" 중 첫 번째인 \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/docs/hooks-rules.html#only-call-hooks-at-the-top-level\",\"children\":\"“최상위에서만 Hook을 호출해야 합니다”\"}],\"를 대략 이해할 수 있을 것입니다. \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"currentHook\"}]}]}]}],\" 변수를 사용하여 호출 순서에 대한 React의 의존성을 명시적으로 모델링 했습니다. 우리가 구현한 것을 염두에 두고 \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/docs/hooks-rules.html#explanation\",\"children\":\"전체 규칙에 대한 설명\"}],\" 부분을 읽어보면 전체 맥락이 잘 이해될 것입니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"또한 두 번째 규칙인 \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/docs/hooks-rules.html#only-call-hooks-from-react-functions\",\"children\":\"“오직 React 함수 내에서 Hook을 호출해야 합니다.”\"}],\"는 우리가 구현한 코드에서는 필수적이지 않지만, 항상 코드의 어떤 부분이 상태 관련 로직에 의존하는지 명확하게 구분하는 것은 좋은 습관입니다. (긍정적인 부수효과로, 반복문과 조건문 내부에서 일반 JavaScript 함수처럼 이름 붙여진 상태 관련 함수를 호출하는 실수를 하지 않게 됩니다. 즉, 두 번째 규칙을 따르는 것이 첫 번째 규칙을 따르는 데 도움이 됩니다.)\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"결론\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"여기까지 이 글에서 학습해볼 내용은 다 다루었습니다. 이제 \",[\"$\",\"$L10\",null,{\"href\":\"https://www.reddit.com/r/reactjs/comments/aufijk/useref_is_basically_usestatecurrent_initialvalue_0/\",\"children\":\"useRef를 한 줄로 구현해보거나\"}],\" \",[\"$\",\"$L10\",null,{\"href\":\"https://www.npmjs.com/package/vdom\",\"children\":\"render 함수가 JSX를 받아 실제로 DOM에 마운트 하도록 해보거나\"}],\" 우리가 구현한 28줄의 React Hooks 복제본에서는 생략한 무수히 많은 세부 사항을 추가해볼 수도 있습니다. 아무쪼록 컨텍스트에서 클로저를 사용하는 경험과 React Hook이 동작하는 방식을 이해하는 유용한 멘탈 모델을 얻으셨기를 바랍니다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":[\"이 글의 초안을 검토하고 값진 피드백으로 개선해 준 \",[\"$\",\"$L10\",null,{\"href\":\"https://twitter.com/dan_abramov\",\"children\":\"Dan Abramov\"}],\"와 \",[\"$\",\"$L10\",null,{\"href\":\"https://twitter.com/shortdiv\",\"children\":\"Divya Sasidharan\"}],\"에게 감사의 말을 전합니다. 오류가 남아있다면 그건 제 탓입니다..\"]}]}]]\n"])</script><script>self.__next_f.push([1,"13:I[1749,[\"901\",\"static/chunks/901-e0981abc5db6695f.js\",\"749\",\"static/chunks/749-eb70e03c44394694.js\",\"42\",\"static/chunks/app/%5Bslug%5D/page-2b03d7246e3b97dc.js\"],\"Image\"]\n14:T7b6,"])</script><script>self.__next_f.push([1,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAbCAIAAACSpRrNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFaElEQVR4nJ2WbUxTZxTH/1n2wSzGZJnZsugWPhCymBi3aRZjyNIhYGlFyqDIJisVAlikjl1pwdoLjLI6xFHMuBG8Qtl8gUHwBbaaxjhnUBysGOg210WxWZ0f2HAmMxtWbnuXc28tKG3mdnJyc+7b+Z3nPOc5zwPxCUQQBIvFYrPZVCpVcXGxUqlUKBSBQOBJ/kXMpyFBmAvOLtRWx4GKip0mk4lhGIPBYDKZZmZm/h8gPBecFcVwnO/D0VdCfIkLCAnBkDAniuK9O7eunGSdNYktRdivQ/uuZe6ObdM3xx5j/LcRzAXvi6I4e+9Op2llZTJKV0OXgPzleOcFuuoTse1FGDbg/GnnD9dvO7s6p27ccLvdHkkmJiY8Ho/P5xsZGRkdHY0BCAlBURR/vnJCl4CNQO4SFCWhZBUxdAlkl6+DBnhLUptu+bdXfScHBrI1GoZhtFptSkqKTqfTarUqlcrtdj8OkL2Puz7eDKQBaiADyFuGghUUuAzQLkU6kCm9SgO6qp/7a/bBr7cCgUDgmiR+v9/n8y0uLchJnxofyAS5UANKSdWSu8yHPFmVD42NwFH21WhwCyXGJIeEYFESxSW70ICiLlsD43oYXiNDl0APMyRYVDOAHy+2RxkxSygCOHVAJXvPAIpfgaMUR6rBV+HgDhw0kHHEDIsamwDFAn0TyFkJ709TY2Njw8PDd+/ejVtFJaso/M1A+VrUKPHRNjQVYn8hbHl0bd5OpA9zUbgaW1+i5KQs0EHeOv3Hn/19fR6PZ3F+CDA1PihnpmwNTKlgFBRsbTYa3yVtyIM1E7VZqM+lVzVK+kzOlVwRnaaVoihOTIx7vd7YgPNdJRtBNW5KRWUyqtOxT4fWCrQaSR0GujWlYucbBKhMJjtvWaQK0kBPqAI9Y17vZGzA8brX00DzySjAZsFhBFeFNoa01UhX+ZbNIl+MglQeRIZUdUVJBBgaGnI4WkRRDEryCKDT/LISkeFzVThqR3cjTjRFjN4DZBzeS4w9qnlG5gKAd+KqxWKtr6+z2+02m43neZvNVl1dXVFRMT09jeN16zaDBt5cgo4actfTTCobfS3obQHPEru5ZB4gV22aVBeXR0bLDYaCgoLi4mK9Xp+fn6/X65uamjiOCwaD+LrbkAmKrlVKDs+is45idzZEtLsRnzfSK66KZkhmZD8VAexVY+be3/19vX19fT09PUNDQz09PS6Xaz5Ft65d0C6l/BzeG/HIs6TOBhypI5izAZw5go9mKTqC43VrpUY5u3g9yxNOU7RrA01yZx2O7SN3X7TgbNfTZ9pxisNgB77kMfCphKmiOBgFfRxtG1Pjg2FRfBC8H29LIMB55w5dAv0vl+ZRO7nubcFpDv0H0d8qMdponhkFzZYugVynAla13Gmom8UTyLuHVU3D77BG6vLwHtQXwVpIBmemJ4f20LqrTCaV2+IW4Lbv4r8DQtJwfv9l0rie1hTP0lI4ZELl2yhREoBWhhn7iyL1I/ftdNAKjdlNF48gEsLNqy7jemoSHVY467E7H+UadNaibTd5l+tn67OUmXTgjGOLlPrZeE30EUCU8Zt/gt1CDbU2G7vUKNuET8oia1ifGNkG9ImYPOdYnJl4B4D5PVn6IRwShAufMeY0qKRmmbuEmprcGIqS0GZc8dWZ/u8mr1+6+M2ly5c9Hs+IJMPDw/EG8dipYi4kzMlHhu+vuEzvra3Oe74y6xmrfs0xjrWy1hP9pz9gzNv1Or0k70ui0WhycnJcLhfHcV2StLe38zzPcRzP8zEOXtHDixAORzUYCoXE0LmzLpZl5T5jsVhKS0vtdjvty4GA3+/3er2BQMD3ULxer8/n+wfUAxS6kQDpZAAAAABJRU5ErkJggg=="])</script><script>self.__next_f.push([1,"11:[\"$\",\"$L13\",null,{\"src\":\"./deep-dive-how-do-react-hooks-really-work-ko/closure-diagram.jpg\",\"alt\":\"클로저 다이어그램\",\"placeholder\":\"blur\",\"blurDataURL\":\"$14\",\"unoptimized\":true,\"width\":721,\"height\":617}]\n"])</script><script>self.__next_f.push([1,"15:Tcc6,"])</script><script>self.__next_f.push([1,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAgCAIAAABsC5RsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAJNklEQVR4nG1Wa1Ab1xXeSeIECCABkvYlVo9drVa7eoAeq9UTSSCtkAQCCQnzEAIEGGwMNgQMjnnETyDY4FfsGBIc08QxtevYSeykjp2kzdS1UztNJ3Wm7jTpa5pf7Z/8bzuSEzft9M43d+6cuXPvOef7Zs4HlKssnZlBuy+iZavd/gbWWesMxDx83O1vgHBjMUQJEfr/A2VgTxoNj0K126HQqMRUL4BIIcIAwWjzbz+/v7h01OSs9Udabd5oKNYRiqUsziCoqBAidAnKPN4fHbKA1UKFVTf/q/bLf09f/Kb96rdI3ytlsKpUpgcQwlyfSBm56iJYU4wwJVJtqVRXICGfLlUWSMhiiCoE1QJYXQz9F4pAVTGoEqpcwoqw2BiBzPWlBCeE1UKEBoQIgxBmVGVBcJNUxco0HKqy4FoHhFdilBVVWeQ0B+NGhDBLSRajrFKSlZKsnOakJKvQmGEZLRArBRJlruRsEUAJygSjbanMdhcfd/obA3VJFx9PpLYYrH6+roWPtvrCyapA3OTg2aqQN5R0BqK+SDKR2mJxBYOxlMkRzCsjSqU64fdtATDSGo6nrZ5wdSiR7BiwOIN8Xaujur62sd1b25RI9fPR1khTOtjQFk128dHmeEuPMxB18bFwotMXaXZU1/sjzZSx6jFjAKioNLB+UFEhpzna7EFVFsroJgyOcjWLa+241k7onJSxSsnYGItPXek22XmZJluy2cEzrFem4XDGJpEbBPB3qgAEMFUEqgRwloECCSGAs10vBL9r/yMU5CIFErIIVOWLVY/IyRerctSpc9Rp/pPj4xcffVKC5MSRQynKlEqZEvSRYujvI9rvL+QOufvCH+gUIAyOlu5BbyjuDcVFMm0xRGbThNUFoLoQogohKqsqlBYijBDVFoLqfAlRAGYhgEgBov4BKAGSzQlACYvT26Q1+unKGhS3ilAjWG4GMZNaa5ERBjlhKMd1IKIug0hhGY5TJqayiqDdBONClFYJasqi3CQqN4lQowipLEEYQKGq4W3TvHU8YNnl1o96jGMu3XNLuw+cmGjOBOwDtY6ITuHGoChDDfi8ozG+m284N7exevBmqn7RpunnNH12eoijhk142oB1gCgLkJpQc81CnWtPrW3Kqd3BqYeSgen3zi70eE19flNYg/FKSUpHHIi6V3ujFye3eTHVbPu25Z0bLYHDLt0Ip9nq0AzZqCEz0WvAuiDUCqjoQEPVrMe006kfZMmMoqx9vP/QW6/uHo65klZ1q5EYYHUTfvO+iH25NfDw+tpL48MZp3cqvcxzU279kJHoNhEZE9FtkHVQcKsEyeXYyi/W2iad2h0Vii4wL3xm4egv318cauDSTtUWMz5epZ0OWvbw5pWB6N/uX7t3dW1nJDiWmAuyz9eYRziq30puYcn+CrxbA7dIIBaQYg5WlTbImglRFH3W+SQgP7Ew+9lHL5+YaB/fXNWmAwdd6pOdkVf7469sq11/vvXupbnDg70Jx6hDO8KqemlpKy1tMchbGKRJWRYXQSwAYWwlkVTBYYWoWvyMEQDAnan0gxun7944d2FprM2s6jDrXwhzr4+nDrbW7InV3Lt0ZH3fkfbIoZjvhRrzSKWyQyqKSkuC5YJqsNAnEFUAbm/Lmbkbg21LQcegg+5UgonR6vSDqye/+cudiaSr06rqMutDZQWTPLs+3rUy1H7vzcO/+fDOl59++/HVh++ef3Bq7nrf5mMhx+4q47CT7oPLHQCj83VFxtzaZrLUgT6rLwBwBjW+vbzrX//868pkprdCut1OJ+XobKT6i/PHz4+mfv/uyxsn12aGV3YPvryr/3Rv8qDP2q8tbyBEfLkwIBQbAAmiKMnLA3IrDygBgPxnAeFCT/IfD25eP7t3b5SdCXLdOtmRJu8705kPlif+/OG5hDcAALIiQCsE9AKAFgC0CCAhQC0BGGGJGoBlSkoFI6VCCVDupxv3ZEZSwdHl8ck/fXrx/bNTM1F6h0vdY8JGOHI+Zvz84t5PfjRvBr0WuLY/vKXO3ldt6gmbM41sbwPbk+AGCKUTEMGYVJInKy6GgWJFvjzDJ+cGT15ZvfLgzqW7by9fmu96IVbRXSkbZi0H6vy3Tg9cOr6PkzbrRd6Ur2Vb3fjJifPj7Yv99VN9kcnh6KxRHwSEErS4ABBvyrPgkkzEo35a7ZKGFrad+Or2zx7effXS8YEOBn6uSjvf6L4y3Xl2JHz+8P6dbfsz/uGgpjlhTh4ZPXzh6BtLY0eXJk/c+vEtnycOQKhCId70BAC4tNjawT5ex3UG247tWbh38/LGkYGfro0kNEgLCU3XV5zZUXt60PfGwugHl68dnzj14alru5PjpiLX6anpP9z+5OqFi7duvseHE0CJGFGWAUYVNj/Rd/u9ldvX1u/feu3rz6+/8/oJ9VPAW8eHfnKgPaURToY1r43X701YF3dkvv71xz+/vPHV7ft33rhxKL3rzGTPSzNj546tvP7KajUfA/QWbn1l9va11Q8uLF9e27s6NzDbVzu/o31pqh8XCJ0UcWyifarTN5Z0ZwJGTgbvH9t25ezBC8dGP7u5/uUvrv7x/ke/++T8dF+6v7F/YXKW5aqBUDh0Y31mcTQ22e7c18c/3+Xdla4aijt29zV0bm6oj0ZDwWDL5mS8sYH3eRNN0eGhrbsGU6vTmY0Xt6/NpK+tznxxa+Ph3XfePHk8bveKSjEAw7Ueq85l0fht+hrO6LHqPHaTw6Sv9bodHCeX4TKZUi5TgmIIlyvqQ8He7nRjiN/amuxuCsVrbFvbYkOZ1MhA96ml/cvzh3C1GSjB9BBhRSi7EDOCBAuTNoSyF6O6PAlZCFHFCCOA6ZzX0BXBmkKQyheT+RLyGTGZJ1Hng9QmMbmpjHhKiAP5sieEykeegi6VMmKZrlTKiDBtqVQrxnRlufGUL86OwEKIypcQTwoUhZC6CKaygxBhcvGsJxFhWhGmE2E6MaYTy3QlKAPIaU5v80tJDiWtGGXlPHVy2i6RV+AMt3X7c4FgsjPVsXVg+6FDh8d3DkWauu3BhIW1N29OdXZ2cQ5vvoT831kIKiowygriJhg3QbhRkXU5JrFMjxIWmydCGpxqhjXZaiKxlN7iYyzVBquPpM0VbE0F65WTJsFjt5aDEKH/Dbg6vqG0fN3sAAAAAElFTkSuQmCC"])</script><script>self.__next_f.push([1,"12:[\"$\",\"$L13\",null,{\"src\":\"./deep-dive-how-do-react-hooks-really-work-ko/tweet-mark-dalgleish-hooks.jpg\",\"alt\":\"React Hook와 클로저에 관한 스타워즈 드립\",\"placeholder\":\"blur\",\"blurDataURL\":\"$15\",\"unoptimized\":true,\"title\":\"React Hook와 클로저에 관한 스타워즈 드립\",\"width\":1000,\"height\":1190}]\n"])</script><script>self.__next_f.push([1,""])</script></body></html>