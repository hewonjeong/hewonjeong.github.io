<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/e1c529c04de64b40-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/5af8a0c92a4e4a9f.css" crossorigin="" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/774e50315e83930a.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-d17822b5f1ab65de.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-9ca93e6eaf504584.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-45e84c3d4c769e2c.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-4a25691f1573a7dd.js" async="" crossorigin=""></script><script src="/_next/static/chunks/901-e0981abc5db6695f.js" async=""></script><script src="/_next/static/chunks/app/layout-0ce75d70c447bafd.js" async=""></script><script src="/_next/static/chunks/749-eb70e03c44394694.js" async=""></script><script src="/_next/static/chunks/app/%5Bslug%5D/page-0c1fc443536e97ef.js" async=""></script><title>React In Depth: 프로그래밍 모델과 원리 — Hewon Jeong</title><meta name="description" content="React는 어떻게 동작할까? 왜 그렇게 동작할까? 얼핏 들었던 내부 개념들에 대한 정리"/><link rel="icon" href="/icon.png?dd72987ff3bd4997" type="image/png" sizes="160x160"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body class="mx-auto max-w-2xl bg-[--bg] px-5 py-12 text-[--text]"><header class="mb-14 flex flex-row place-content-between"><a class="__className_71cf04 inline-block text-2xl font-black hover:scale-[1.02] scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="/"><span>Hewon Jeong</span></a></header><main><article><h1 class="text-[2.5rem] leading-tight font-bold break-keep">React In Depth: 프로그래밍 모델과 원리</h1><time dateTime="2019-09-28" class="text-[13px] text-gray-500 dark:text-gray-400 font-mono flex mt-2">September 28, 2019</time><div class="markdown mt-10"><p>단방향 데이터 흐름, 상위 컴포넌트의 상태 변경에 따른 리렌더링, immutable한 state 관리 등 React를 사용하여 개발 하다보면 다른 UI 프로그래밍 모델에서는 낯선 개념들을 마주할 때가 있습니다. <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://mobile.twitter.com/dan_abramov">Dan Abramov</a>가 이러한 개념들에 대해 명쾌하게 설명한 글 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://overreacted.io/react-as-a-ui-runtime/">React as a UI Runtime</a> 을 읽으며 간략하게 정리한 내용입니다. 원글의 양이 길어 hooks 등의 개념은 따로 정리할 예정입니다.</p>
<h2>Host Tree</h2>
<p>React는 일반적으로 동적으로 변화할 수 있는 트리를 출력하는 프로그램이다. (<a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://www.npmjs.com/package/react-dom">DOM 트리</a>, <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://react-pdf.org/">PDF 요소들의 트리</a>, <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/docs/test-renderer.html">JSON 객체</a> 등) 이것을 ‘호스트 트리’ 라고 한다. (DOM이나 iOS와 같이 외부 호스트 환경의 일부이기 때문)</p>
<p>React는 외부 상호작용, 네트워크 응답, 타이머 등 <strong>외부 이벤트에 대한 응답으로 복잡한 호스트 트리를 예측할 수 있게 조작하는 프로그램을 작성</strong>하는데 유용하다.</p>
<p>아래 두 가지 법칙이 지켜진다면 React가 유용할 것이다.</p>
<ul>
<li><strong>안정성 (Stability)</strong> 호스트 트리의 대부분의 갱신은 전체 구조를 뜯어고치지 않는다.</li>
<li><strong>규칙성 (Regularity)</strong> 호스트 트리는 무작위 형태가 아닌 일관된 모습과 동작을 가진 UI 패턴(버튼, 목록, 아바타)으로 나눌 수 있다.</li>
</ul>
<p>⇒ 대부분의 UI에 적용된다. (반면 일정한 ‘패턴’이 없는 Window의 3D 파이프 스크린 세이버 등에는 그렇지않다.)</p>
<h2>Host Instances</h2>
<p>호스트 트리는 노드로 구성된다.. 이것을 ‘호스트 인스턴스’라고 부른다. (e.g. DOM 환경에서 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>document.createElement(&#x27;div&#x27;)</span></span></code></span> 등)</p>
<p>호스트 인스턴스는 고유한 속성을 가진다. (e.g. <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>domNode.className</span></span></code></span> 등) 또한 다른 호스트 인스턴스 자식으로 포함 할 수 있다.</p>
<p>일반적으로 호스트 인스턴스를 조작하는 API가 있다. (e.g. <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>appendChild</span></span></code></span> 등) <strong>React 앱에서는 일반적으로 이런 API를 직접 호출하지 않는다. React가 처리한다.</strong></p>
<h2>Renderers</h2>
<p>렌더러는 React가 특정 호스트 환경과 통신할 수 있도록 호스트 인스턴스를 관리한다. (e.g. React DOM, React Native 혹은 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://github.com/facebook/react/tree/master/packages/react-reconciler">직접 React renderer를 만들 수도 있다.</a>)</p>
<h2>React Element</h2>
<p>호스트 환경에서 가장 작은 구성 요소는 호스트 인스턴스이다. (e.g. DOM node) React에서는 제일 작은 빌딩 요소는 <em>React Element</em>이다.</p>
<p>React element는 호스트 인스턴스를 표현 수 있는 plain JavaScript object. (가볍다.)</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="jsx" data-theme="light dark"><code data-language="jsx" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// JSX는 아래 오브젝트를 만들기 위한 편의구문</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// &lt;dialog&gt;</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">//   &lt;button className=&quot;blue&quot; /&gt;</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">//   &lt;button className=&quot;red&quot; /&gt;</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// &lt;/dialog&gt;</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">{</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  type: </span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;dialog&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">,</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  props: {</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    children: </span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">[</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">{</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">      type</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052"> &#x27;button&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">,</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">      props</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> { </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">className</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052"> &#x27;blue&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    }, {</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">      type</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052"> &#x27;button&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">,</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">      props</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> { </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">className</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">:</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052"> &#x27;red&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    }</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">]</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span></code></pre></figure>
<p>(이 설명에서 크게 중요하지 않은 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://overreacted.io/why-do-react-elements-have-typeof-property/">몇 가지 속성들</a>은 생략했다.)</p>
<p>React 엘리먼트는 영속성을 가지지 않는다. 매번 버리고 새로 만들어진다.</p>
<p>React 엘리먼트는 불변이다. 예를 들어 React 엘리먼트의 자식이나 props를 수정할 수 없다. 다른 렌더링을 하고 싶다면 새로운 React 엘리먼트 트리를 생성해야한다.</p>
<p>React 엘리먼트는 영화의 프레임과도 같다. React 엘리먼트는 매 순간 어떻게 보여야 되는지 나타내고 변하지 않는다.</p>
<h2>Entry Point</h2>
<p>React가 컨테이너 호스트 인스턴스 내부에 특정 React 엘리먼트 트리를 렌더링 할 수 있게 해주는 API (e.g. <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>ReactDOM.render</span></span></code></span>)</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="jsx" data-theme="light dark"><code data-language="jsx" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">ReactDOM</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">  // { type: &#x27;button&#x27;, props: { className: &#x27;blue&#x27; } }</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">  &lt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">button</span><span style="--shiki-light:#669900;--shiki-dark:#D1949E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> className</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&quot;blue&quot;</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> /&gt;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">,</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">  document</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">getElementById</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;container&#x27;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span></code></pre></figure>
<p><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>ReactDOM.render(reactElement, domContainer)</span></span></code></span>의 의미는 “React, <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>domContainer</span></span></code></span> 호스트 트리를 나의 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>reactElement</span></span></code></span>와 같게 만들어줘”와 같다.</p>
<p>React는 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>reactElement.type</span></span></code></span>을 보고 React DOM에 호스트 인스턴스 생성한다. (e.g. <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>createElement</span></span></code></span>)</p>
<p>자식을 가지고 있다면 React는 첫 렌더링에 재귀적으로 호스트 인스턴스 생성한다.</p>
<h2>Reconciliation (재조정)</h2>
<p>React의 목표는 주어진 React 엘리먼트 트리와 호스트 트리를 일치시키는 것이다. <strong>새로운 정보의 응답으로 호스트 인스턴스 트리에 어떤 작업을 해야할지 파악하는 프로세스</strong>를 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/docs/reconciliation.html">재조정</a>이라고 부른다. (자세한 내용은 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/docs/reconciliation.html">공식 문서</a>를 참조하자)</p>
<p>트리의 같은 위치에 있는 <strong>엘리먼트 타입이 이전 렌더링과 다음 렌더링 사이에</strong></p>
<ul>
<li>일치하면 ⇒ React는 기존 호스트 인스턴스를 다시 사용</li>
<li>불일치하면 ⇒ 기존 트리를 날려버리고 새로운 트리를 만든다.</li>
</ul>
<p>자식 트리에 같은 휴리스틱 알고리즘을 반복하여 적용한다.</p>
<h2>Conditions</h2>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="jsx" data-theme="light dark"><code data-language="jsx" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Form</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">({ </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">showMessage</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> }) {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">    &lt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">dialog</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&gt;</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      {</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">showMessage</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> &amp;&amp;</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> &lt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">p</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&gt;I was just added here!&lt;/</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">p</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&gt;;</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">}</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">      &lt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">input</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> /&gt;</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">    &lt;/</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">dialog</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&gt;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">);</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span></code></pre></figure>
<p><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>showMessage</span></span></code></span>의 값과 관계없이 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>&lt;input&gt;</span></span></code></span>은 항상 두 번째 자식이고 렌더링 전후 위치가 변하지 않는다.</p>
<p><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>dialog → dialog</span></span></code></span>: 호스트 인스턴스를 재사용? 🙆🏻‍♂️ <strong>(타입 일치)</strong></p>
<ul>
<li><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>(false) → p</span></span></code></span>: 새로운 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>p</span></span></code></span> 호스트 인스턴스를 만들어야함.</li>
<li><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>input → input</span></span></code></span>: 호스트 인스턴스를 재사용? 🙆🏻‍♂️ <strong>(타입 일치)</strong></li>
</ul>
<p>⇒ React는 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>createElement(&#x27;p&#x27;)</span></span></code></span> ⇒ <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>insertBefore(...)</span></span></code></span> 대략 이런 코드를 수행하고 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>input</span></span></code></span> 의 상태는 손실되지 않을 것</p>
<h2>List</h2>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="jsx" data-theme="light dark"><code data-language="jsx" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> ShoppingList</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">({ </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">list</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> }) {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">    &lt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">form</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&gt;</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">      {</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">list</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">map</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">((</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">item</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> (</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">        &lt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">p</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&gt;</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">          You bought </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">{</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">item</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">name</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">}</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">          &lt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">br</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> /&gt;</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">          Enter how many do you want: &lt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">input</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> /&gt;</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">        &lt;/</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">p</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&gt;</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">      ))</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">}</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">    &lt;/</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">form</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&gt;</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  )</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span></code></pre></figure>
<p><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>ShoppingList</span></span></code></span>의 list가 재정렬된다면 React는 순서가 변경된 것을 알지 못한다. Reconciliation 규칙에 따라 변경된 텍스트 영역만 업데이트 할 것이다. 하지만 이 경우, <strong>input은 변경되지 않으므로 재정렬 후 참조가 꼬이는 버그가 발생</strong>한다.</p>
<p><strong>이것이 매번 React가 엘리먼트 배열에 key prop을 요구하는 이유</strong>이다. <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>key</span></span></code></span>는 아이템이 어느 위치에 있었는지 알려준다. React는 같은 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>key</span></span></code></span>를 가진 이전 호스트 인스턴스를 재사용하고 자식의 순서를 재정렬한다.</p>
<p><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>key</span></span></code></span>는 항상 같은 부모 React 엘리먼트 안에서만 유효하다.</p>
<h2>Purity (순수성)</h2>
<p>React 컴포넌트는 전달받은 props에 대해 순수하다고 가정한다. 일반적으로 React에서 mutation은 부자연스럽다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="jsx" data-theme="light dark"><code data-language="jsx" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Button</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">props</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) {</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">  // 🔴 Doesn&#x27;t work</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">  props</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">isActive</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E"> true</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span></code></pre></figure>
<p>Local mutation은 전혀 상관 없다. 비슷한 맥락으로 전혀 “pure”하지 않은 lazy initialization도 괜찮다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="jsx" data-theme="light dark"><code data-language="jsx" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> ExpenseForm</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() {</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">  // Fine if it doesn&#x27;t affect other components:</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">  SuperCalculator</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">initializeIfNotReady</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">()</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">  // Continue rendering...</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span></code></pre></figure>
<p>다른 컴포넌트의 렌더링에 영향을 주지 않으면 컴포넌트를 여러 번 호출하는 것도 상관없다. React는 엄격한 함수형 패러다임처럼 100% 순수성을 가지지 못해도 괜찮다. <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://stackoverflow.com/questions/1077412/what-is-an-idempotent-operation">멱등성</a>은 React에서 순수성보다 훨씬 중요하다. (= 컴포넌트를 여러번 호출해도 같은 결과를 만들도록 할 것)</p>
<p>정리하면, React 컴포넌트에서 사용자가 볼 수 있는 부수 효과는 허용되지 않는다. 컴포넌트 함수를 호출하더라도 직접적으로 화면에 변경을 일으키면 안된다.</p>
<h2>Recursion (재귀)</h2>
<p>컴포넌트는 함수이기 때문에 호출이 가능하다. 하지만 React 런타임에서 자연스러운 방법은 아니다.</p>
<p>컴포넌트를 사용하는 자연스러운 방법: <strong>직접 컴포넌트 함수를 호출하지 말고 React가 알아서 하도록 하는 것</strong></p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="jsx" data-theme="light dark"><code data-language="jsx" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// { type: Form, props: { showMessage: true } }</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">let</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> reactElement</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> =</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> &lt;Form </span><span style="--shiki-light:#669900;--shiki-dark:#D1949E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">showMessage</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">{</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E">true</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">}</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> /&gt;</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">ReactDOM</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">reactElement</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">domContainer</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span></code></pre></figure>
<p>React 내부 어딘가에서 컴포넌트가 호출 될 것이다. JSX가 변환될 때 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>&lt;form&gt;</span></span></code></span>과 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>&lt;Form&gt;</span></span></code></span>은 각각 다른 타입으로 볼 것이다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="jsx" data-theme="light dark"><code data-language="jsx" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">console</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">log</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">((</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&lt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">form</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> /&gt;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">).</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">type</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// &#x27;form&#x27; string</span></span>
<span data-line=""><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">console</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">log</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">((</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&lt;Form /&gt;</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">).</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">type</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">) </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// Form function</span></span></code></pre></figure>
<p>전역 등록 메커니즘은 없다. <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>&lt;Form /&gt;</span></span></code></span>이라고 치면 문자열 그대로 Form을 참조한다.</p>
<p>React 엘리먼트 타입이 함수라면 React는 컴포넌트를 호출해서 어떤 엘리먼트를 렌더링 하고 싶은지 물어본다. 이 과정은 재귀적으로 진행되고 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/blog/2015/12/18/react-components-elements-and-instances.html">여기</a>에 좀 더 자세하게 설명되어 있다.</p>
<h2>Inversion of Control (제어의 역전)</h2>
<p>왜 컴포넌트를 직접 호출하면 안될까?</p>
<ul>
<li>
<p><strong>컴포넌트는 함수 이상의 역할을 한다.</strong> local state와 같은 기능들로 컴포넌트 함수를 강력하게 만들어준다. 컴포넌트를 직접 호출한다면 이 기능들을 직접 구축해야 할 것이다.</p>
</li>
<li>
<p><strong>컴포넌트 타입은 reconciliation에 관여한다.</strong> React가 컴포넌트를 호출함으로써 트리의 개념 구조를 알려줄 수 있다. 예를 들어, 트리의 input의 위치가 같더라도 &lt;PasswordForm /&gt;과 &lt;MessengerChat /&gt; 사이에서 재조정이 일어나고, 입력 상태가 유지되지 않도록 할 수 있다.</p>
</li>
<li>
<p><strong>React가 reconciliation을 지연시킬 수 있다.</strong> 가령 브라우저가 컴포넌트 호출 사이에서 특정 작업을 할 수 있도록 하여 큰 컴포넌트 트리를 다시 렌더링 하더라도 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/blog/2018/03/01/sneak-peek-beyond-react-16.html">메인 스레드를 멈추지 않게 할 수 있다.</a></p>
</li>
<li>
<p><strong>더 나은 디버깅</strong> 라이브러리에서 컴포넌트를 1급 객체로 하여 내부에 접근 가능한 풍성한 개발 도구를 지원 가능하다.</p>
</li>
</ul>
<p>마지막 이점은 <strong>지연 평가</strong>이다.</p>
<h2>Lazy Evaluation (지연 평가)</h2>
<p>React 컴포넌트는 비교적 순수하지만 화면에 나타나지 않는다면 실행할 필요가 없다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="js" data-theme="light dark"><code data-language="js" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">{</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    type: </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Page</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">,</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    props: {</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">      children: </span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">Comments</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() </span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">// 항상 실행된다다!</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">{</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    type: </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Page</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">,</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    props: {</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">      children: { type: </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Comments</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">    }</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span></code></pre></figure>
<p>컴포넌트로 작성하면 React가 호출 시점을 결정할 수 있게 해 줍니다. (불필요한 렌더링을 피할 수 있게 하고 코드의 취약성을 줄일 수 있다.)</p>
<h2>Consistency (일관성)</h2>
<p>reconciliation 과정은 논-블로킹 작업으로 나누더라도, 실제 호스트 트리에서의 작업은 여전히 단일 동기 흐름안에서 수행되어야한다. 이렇게 하면 사용자가 덜 만들어진 UI를 볼 수 없고, 브라우저가 중간 상태에 대해 불필요한 레이아웃 및 스타일 재계산을 수행하지 않도록 할 수 있다.</p>
<p>위 이유로 React는 모든 작업을 “render phase”와 “commit phase”로 나눈다.</p>
<ul>
<li>Render phase: React가 컴포넌트를 호출, reconciliation을 수행. 중단해도 안전하며 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/blog/2018/03/01/sneak-peek-beyond-react-16.html">앞으로는 비동기적일 것</a></li>
<li>Commit phase: 동기적으로 React가 호스트 트리를 변경하는 단계</li>
</ul>
<h2>Memoization</h2>
<p>부모 컴포넌트가 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>setState</span></span></code></span>를 통해 갱신을 예약하면 React는 기본적으로 전체 하위 트리를 재조정한다. 비용이 클 것 같지만 실제로는 중소형 하위 트리에서는 문제가 되지 않는다.</p>
<p>트리가 너무 깊게 갱신된다면 React에 하위 트리를 메모이제이션해서 얕은 props 비교를 통해 이젠 렌더링 결과를 재사용 할 수 있다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="js" data-theme="light dark"><code data-language="js" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Row</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">({ </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">item</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> }) {</span></span>
<span data-line=""><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic">  // ...</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">export</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E"> default</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> React</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">.</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">memo</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">Row</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span></code></pre></figure>
<p>React는 기본적으로 컴포넌트를 메모하지 않는다. 대부분의 컴포넌트들은 항상 다른 props를 받기 때문에 메모이제이션 비용이 발생할 수 있다.</p>
<h2>Raw Models</h2>
<p>역설적이게도 React는 세밀한 갱신을 위해 “reactivity” 시스템을 사용하지 않는다. 이는 의도된 디자인이다. 모델을 순회하며 세밀한 수신자를 설정하는 것은 귀중한 시간을 소비한다. 게다가 많은 앱에서 상호작용은 작은 변화(버튼 호버)나 큰 변화(페이지 이동)로 이어지며 이 경우 작은 단위의 구독은 메모리 낭비이다.</p>
<p><strong>React의 핵심 설계 원칙 중 하나는 로우 데이터로 동작하는 것</strong>이다. React 렌더링은 O(model size)가 아닌 O(view size) 복잡도를 가지고 view size는 windowing을 통해 크게 줄일 수 있다.</p>
<p>주식 시세 표시 애플리케이션처럼 세밀한 구독이 도움이 되는 경우도 있다. (모든 것이 한번에 지속적으로 갱신되는 경우) React 최상위에 세밀한 구독 시스템을 만들 수도 있지만 React가 좋은 사용 사례가 되지 않을 수도 있다.</p>
<p>세밀한 구독과 반응형 시스템으로도 풀 수 없는 일반적인 성능 이슈들이 존재한다. React는 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://reactjs.org/blog/2018/03/01/sneak-peek-beyond-react-16.html">컨커런트 렌더링</a>을 통해 이 문제들을 해결하고자 한다.</p>
<h2>Batching</h2>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="jsx" data-theme="light dark"><code data-language="jsx" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Parent</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  let</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">setCount</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">] </span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E">0</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">    &lt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">div</span><span style="--shiki-light:#669900;--shiki-dark:#D1949E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> onClick</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">{</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">() </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setCount</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> +</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E"> 1</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">)</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">}</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&gt;</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">      Parent clicked </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">{</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">}</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> times</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">      &lt;Child /&gt;</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">    &lt;/</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">div</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&gt;</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  )</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">function</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> Child</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">() {</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  let</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> [</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">, </span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">setCount</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">] </span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> useState</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E">0</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">  return</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">    &lt;</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">button</span><span style="--shiki-light:#669900;--shiki-dark:#D1949E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> onClick</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">=</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">{</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">() </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">=&gt;</span><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE"> setCount</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">(</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D"> +</span><span style="--shiki-light:#990055;--shiki-dark:#D1949E"> 1</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">)</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">}</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&gt;</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">      Child clicked </span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">{</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">count</span><span style="--shiki-light:#0077AA;--shiki-dark:#D1949E">}</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE"> times</span></span>
<span data-line=""><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">    &lt;/</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">button</span><span style="--shiki-light:#222222;--shiki-dark:#EEEEEE">&gt;</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">  )</span></span>
<span data-line=""><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">}</span></span></code></pre></figure>
<p>위 경우, React가 즉시 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>setState</span></span></code></span> 호출에 대한 응답으로 컴포넌트를 다시 렌더링한다면 자식을 두번 렌더링 해야 한다.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e" tabindex="0" data-language="jsx" data-theme="light dark"><code data-language="jsx" data-theme="light dark" style="display:grid"><span data-line=""><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">***</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> Entering</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> React</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;s browser click event handler **</span><span style="--shiki-light:#FFFFFF;--shiki-dark:#EEEEEE">*</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">Child</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">onClick</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">  -</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> setState</span></span>
<span data-line=""><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">  -</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> re</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">-</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> Child</span><span style="--shiki-light:#708090;--shiki-dark:#998066;--shiki-light-font-style:italic;--shiki-dark-font-style:italic"> // 😞 unnecessary</span></span>
<span data-line=""><span style="--shiki-light:#DD4A68;--shiki-dark:#EEEEEE">Parent</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE"> (</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">onClick</span><span style="--shiki-light:#030712;--shiki-dark:#EEEEEE">)</span></span>
<span data-line=""><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">  -</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> setState</span></span>
<span data-line=""><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">  -</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> re</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">-</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> Parent</span></span>
<span data-line=""><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">  -</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> re</span><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">-</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE">render</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> Child</span></span>
<span data-line=""><span style="--shiki-light:#9A6E3A;--shiki-dark:#F5B83D">***</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> Exiting</span><span style="--shiki-light:#990055;--shiki-dark:#EEEEEE"> React</span><span style="--shiki-light:#669900;--shiki-dark:#BDE052">&#x27;s browser click event handler **</span><span style="--shiki-light:#FFFFFF;--shiki-dark:#EEEEEE">*</span></span></code></pre></figure>
<p>이것이 React가 이벤트 핸들러 사이에서 일괄 갱신을 하는 이유이다.</p>
<p>컴포넌트의 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>setState</span></span></code></span> 호출은 즉시 렌더를 발생시키지 않는다. React는 모든 이벤트 핸들러를 실행시킨 다음 모든 변경사항을 한 번에 다시 렌더한다.</p>
<p>React는 갱신 함수들을 큐에 쌓아놓고 나중에 순서대로 실행한다. 상태 로직이 복잡해진다면 지역 상태를 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>useReducer</span></span></code></span> 훅으로 사용하길 권장한다.</p>
<h2>Call Tree (호출 트리)</h2>
<p>React는 내부적으로 현재 렌더되어 있는 컴포넌트를 기억하기 위해 자체적인 호출 스택이 있다. (e.g. 가령 <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="light dark" style="--shiki-light:#030712;--shiki-dark:#eeeeee;--shiki-light-bg:#fafaf8;--shiki-dark-bg:#1e1e1e"><span data-line=""><span>[App, Page, Layout, Article /** 현재 렌더링 하는 부분 **/])</span></span></code></span></p>
<p>이 트리들은 상호작용하기 위해서 계속 살아 있어야 한다. 즉 Article 컴포넌트의 렌더가 끝나도 React 호출 트리는 파괴되지 않는다. local state와 호스트 인스턴스의 참조를 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://medium.com/react-in-depth/the-how-and-why-on-reacts-usage-of-linked-list-in-fiber-67f1014d0eb7">어딘가에</a> 유지해야 한다.</p>
<p>호출 트리 프레임은 재조정 규칙에 따라 지역 상태, 호스트 인스턴스와 함께 파괴됩니다. React 소스를 읽어봤다면 이러한 프레임을 <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://en.wikipedia.org/wiki/Fiber_(computer_science)">파이버</a>라고 부르는 것을 볼 수 있다.</p>
<p>파이버는 지역 상태가 실제로 있는 곳이다. 지역 상태가 업데이트될 때 React는 해당 파이버의 자식들을 재조정하고 해당 컴포넌트들을 호출한다.</p><hr/></div></article></main><script src="/_next/static/chunks/webpack-d17822b5f1ab65de.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/e1c529c04de64b40-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/5af8a0c92a4e4a9f.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:HL[\"/_next/static/css/774e50315e83930a.css\",\"style\",{\"crossOrigin\":\"\"}]\n"])</script><script>self.__next_f.push([1,"5:I[7690,[],\"\"]\n8:I[5613,[],\"\"]\na:I[1778,[],\"\"]\nb:I[7674,[\"901\",\"static/chunks/901-e0981abc5db6695f.js\",\"185\",\"static/chunks/app/layout-0ce75d70c447bafd.js\"],\"\"]\nd:I[8955,[],\"\"]\n9:[\"slug\",\"react-runtime-system\",\"d\"]\ne:[]\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/5af8a0c92a4e4a9f.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L5\",null,{\"buildId\":\"6WiUkhWAlAYqK1c6Iy521\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/react-runtime-system\",\"initialTree\":[\"\",{\"children\":[[\"slug\",\"react-runtime-system\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"react-runtime-system\\\"}\",{}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"slug\",\"react-runtime-system\",\"d\"],{\"children\":[\"__PAGE__\",{},[\"$L6\",\"$L7\",null]]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$9\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]]},[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[\"$\",\"body\",null,{\"className\":\"mx-auto max-w-2xl bg-[--bg] px-5 py-12 text-[--text]\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-14 flex flex-row place-content-between\",\"children\":[\"$\",\"$Lb\",null,{}]}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"article\",null,{\"className\":\"markdown\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-[40px] font-bold leading-[44px]']\",\"children\":\"Not found\"}],[\"$\",\"div\",null,{\"className\":\"markdown mt-10\",\"children\":[\"$\",\"p\",null,{\"children\":\"This page doesn’t exist (yet?)\"}]}]]}],\"notFoundStyles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/774e50315e83930a.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/774e50315e83930a.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]]}]}]]}]}],null]],\"initialHead\":[false,\"$Lc\"],\"globalErrorComponent\":\"$d\",\"missingSlots\":\"$We\"}]]\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"article\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-[2.5rem] leading-tight font-bold break-keep\",\"children\":\"React In Depth: 프로그래밍 모델과 원리\"}],[\"$\",\"time\",null,{\"dateTime\":\"2019-09-28\",\"className\":\"text-[13px] text-gray-500 dark:text-gray-400 font-mono flex mt-2\",\"children\":\"September 28, 2019\"}],[\"$\",\"div\",null,{\"className\":\"markdown mt-10\",\"children\":[\"$Lf\",[\"$\",\"hr\",null,{}]]}]]}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"React In Depth: 프로그래밍 모델과 원리 — Hewon Jeong\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"React는 어떻게 동작할까? 왜 그렇게 동작할까? 얼핏 들었던 내부 개념들에 대한 정리\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/icon.png?dd72987ff3bd4997\",\"type\":\"image/png\",\"sizes\":\"160x160\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"6:null\n"])</script><script>self.__next_f.push([1,"10:I[6906,[\"901\",\"static/chunks/901-e0981abc5db6695f.js\",\"749\",\"static/chunks/749-eb70e03c44394694.js\",\"42\",\"static/chunks/app/%5Bslug%5D/page-0c1fc443536e97ef.js\"],\"\"]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"p\",null,{\"children\":[\"단방향 데이터 흐름, 상위 컴포넌트의 상태 변경에 따른 리렌더링, immutable한 state 관리 등 React를 사용하여 개발 하다보면 다른 UI 프로그래밍 모델에서는 낯선 개념들을 마주할 때가 있습니다. \",[\"$\",\"$L10\",null,{\"href\":\"https://mobile.twitter.com/dan_abramov\",\"children\":\"Dan Abramov\"}],\"가 이러한 개념들에 대해 명쾌하게 설명한 글 \",[\"$\",\"$L10\",null,{\"href\":\"https://overreacted.io/react-as-a-ui-runtime/\",\"children\":\"React as a UI Runtime\"}],\" 을 읽으며 간략하게 정리한 내용입니다. 원글의 양이 길어 hooks 등의 개념은 따로 정리할 예정입니다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Host Tree\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React는 일반적으로 동적으로 변화할 수 있는 트리를 출력하는 프로그램이다. (\",[\"$\",\"$L10\",null,{\"href\":\"https://www.npmjs.com/package/react-dom\",\"children\":\"DOM 트리\"}],\", \",[\"$\",\"$L10\",null,{\"href\":\"https://react-pdf.org/\",\"children\":\"PDF 요소들의 트리\"}],\", \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/docs/test-renderer.html\",\"children\":\"JSON 객체\"}],\" 등) 이것을 ‘호스트 트리’ 라고 한다. (DOM이나 iOS와 같이 외부 호스트 환경의 일부이기 때문)\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React는 외부 상호작용, 네트워크 응답, 타이머 등 \",[\"$\",\"strong\",null,{\"children\":\"외부 이벤트에 대한 응답으로 복잡한 호스트 트리를 예측할 수 있게 조작하는 프로그램을 작성\"}],\"하는데 유용하다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"아래 두 가지 법칙이 지켜진다면 React가 유용할 것이다.\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"안정성 (Stability)\"}],\" 호스트 트리의 대부분의 갱신은 전체 구조를 뜯어고치지 않는다.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"규칙성 (Regularity)\"}],\" 호스트 트리는 무작위 형태가 아닌 일관된 모습과 동작을 가진 UI 패턴(버튼, 목록, 아바타)으로 나눌 수 있다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"⇒ 대부분의 UI에 적용된다. (반면 일정한 ‘패턴’이 없는 Window의 3D 파이프 스크린 세이버 등에는 그렇지않다.)\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Host Instances\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"호스트 트리는 노드로 구성된다.. 이것을 ‘호스트 인스턴스’라고 부른다. (e.g. DOM 환경에서 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"document.createElement('div')\"}]}]}]}],\" 등)\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"호스트 인스턴스는 고유한 속성을 가진다. (e.g. \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"domNode.className\"}]}]}]}],\" 등) 또한 다른 호스트 인스턴스 자식으로 포함 할 수 있다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"일반적으로 호스트 인스턴스를 조작하는 API가 있다. (e.g. \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"appendChild\"}]}]}]}],\" 등) \",[\"$\",\"strong\",null,{\"children\":\"React 앱에서는 일반적으로 이런 API를 직접 호출하지 않는다. React가 처리한다.\"}]]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Renderers\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"렌더러는 React가 특정 호스트 환경과 통신할 수 있도록 호스트 인스턴스를 관리한다. (e.g. React DOM, React Native 혹은 \",[\"$\",\"$L10\",null,{\"href\":\"https://github.com/facebook/react/tree/master/packages/react-reconciler\",\"children\":\"직접 React renderer를 만들 수도 있다.\"}],\")\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"React Element\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"호스트 환경에서 가장 작은 구성 요소는 호스트 인스턴스이다. (e.g. DOM node) React에서는 제일 작은 빌딩 요소는 \",[\"$\",\"em\",null,{\"children\":\"React Element\"}],\"이다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"React element는 호스트 인스턴스를 표현 수 있는 plain JavaScript object. (가볍다.)\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// JSX는 아래 오브젝트를 만들기 위한 편의구문\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// \u003cdialog\u003e\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"//   \u003cbutton className=\\\"blue\\\" /\u003e\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"//   \u003cbutton className=\\\"red\\\" /\u003e\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// \u003c/dialog\u003e\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  type: \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'dialog'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  props: {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    children: \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"[\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"{\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      type\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\" 'button'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      props\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" { \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"className\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\" 'blue'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" }\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    }, {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      type\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\" 'button'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      props\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" { \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"className\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\" 'red'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" }\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    }\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"(이 설명에서 크게 중요하지 않은 \",[\"$\",\"$L10\",null,{\"href\":\"https://overreacted.io/why-do-react-elements-have-typeof-property/\",\"children\":\"몇 가지 속성들\"}],\"은 생략했다.)\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"React 엘리먼트는 영속성을 가지지 않는다. 매번 버리고 새로 만들어진다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"React 엘리먼트는 불변이다. 예를 들어 React 엘리먼트의 자식이나 props를 수정할 수 없다. 다른 렌더링을 하고 싶다면 새로운 React 엘리먼트 트리를 생성해야한다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"React 엘리먼트는 영화의 프레임과도 같다. React 엘리먼트는 매 순간 어떻게 보여야 되는지 나타내고 변하지 않는다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Entry Point\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React가 컨테이너 호스트 인스턴스 내부에 특정 React 엘리먼트 트리를 렌더링 할 수 있게 해주는 API (e.g. \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"ReactDOM.render\"}]}]}]}],\")\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"ReactDOM\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"  // { type: 'button', props: { className: 'blue' } }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  \u003c\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"button\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#D1949E\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" className\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"\\\"blue\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" /\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  document\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"getElementById\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'container'\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"ReactDOM.render(reactElement, domContainer)\"}]}]}]}],\"의 의미는 “React, \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"domContainer\"}]}]}]}],\" 호스트 트리를 나의 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"reactElement\"}]}]}]}],\"와 같게 만들어줘”와 같다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React는 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"reactElement.type\"}]}]}]}],\"을 보고 React DOM에 호스트 인스턴스 생성한다. (e.g. \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"createElement\"}]}]}]}],\")\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"자식을 가지고 있다면 React는 첫 렌더링에 재귀적으로 호스트 인스턴스 생성한다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Reconciliation (재조정)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React의 목표는 주어진 React 엘리먼트 트리와 호스트 트리를 일치시키는 것이다. \",[\"$\",\"strong\",null,{\"children\":\"새로운 정보의 응답으로 호스트 인스턴스 트리에 어떤 작업을 해야할지 파악하는 프로세스\"}],\"를 \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/docs/reconciliation.html\",\"children\":\"재조정\"}],\"이라고 부른다. (자세한 내용은 \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/docs/reconciliation.html\",\"children\":\"공식 문서\"}],\"를 참조하자)\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"트리의 같은 위치에 있는 \",[\"$\",\"strong\",null,{\"children\":\"엘리먼트 타입이 이전 렌더링과 다음 렌더링 사이에\"}]]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"일치하면 ⇒ React는 기존 호스트 인스턴스를 다시 사용\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"불일치하면 ⇒ 기존 트리를 날려버리고 새로운 트리를 만든다.\"}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"자식 트리에 같은 휴리스틱 알고리즘을 반복하여 적용한다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Conditions\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Form\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"({ \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"showMessage\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" }) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    \u003c\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"dialog\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      {\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"showMessage\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" \u0026\u0026\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" \u003c\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"p\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003eI was just added here!\u003c/\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"p\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003e;\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"}\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      \u003c\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"input\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" /\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    \u003c/\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"dialog\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"showMessage\"}]}]}]}],\"의 값과 관계없이 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"\u003cinput\u003e\"}]}]}]}],\"은 항상 두 번째 자식이고 렌더링 전후 위치가 변하지 않는다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"dialog → dialog\"}]}]}]}],\": 호스트 인스턴스를 재사용? 🙆🏻‍♂️ \",[\"$\",\"strong\",null,{\"children\":\"(타입 일치)\"}]]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"(false) → p\"}]}]}]}],\": 새로운 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"p\"}]}]}]}],\" 호스트 인스턴스를 만들어야함.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"input → input\"}]}]}]}],\": 호스트 인스턴스를 재사용? 🙆🏻‍♂️ \",[\"$\",\"strong\",null,{\"children\":\"(타입 일치)\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"⇒ React는 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"createElement('p')\"}]}]}]}],\" ⇒ \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"insertBefore(...)\"}]}]}]}],\" 대략 이런 코드를 수행하고 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"input\"}]}]}]}],\" 의 상태는 손실되지 않을 것\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"List\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" ShoppingList\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"({ \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"list\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" }) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    \u003c\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"form\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"      {\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"list\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"map\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"((\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"item\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"        \u003c\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"p\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"          You bought \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"{\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"item\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"name\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"}\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"          \u003c\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"br\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" /\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"          Enter how many do you want: \u003c\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"input\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" /\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"        \u003c/\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"p\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      ))\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"}\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    \u003c/\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"form\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  )\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"ShoppingList\"}]}]}]}],\"의 list가 재정렬된다면 React는 순서가 변경된 것을 알지 못한다. Reconciliation 규칙에 따라 변경된 텍스트 영역만 업데이트 할 것이다. 하지만 이 경우, \",[\"$\",\"strong\",null,{\"children\":\"input은 변경되지 않으므로 재정렬 후 참조가 꼬이는 버그가 발생\"}],\"한다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"이것이 매번 React가 엘리먼트 배열에 key prop을 요구하는 이유\"}],\"이다. \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"key\"}]}]}]}],\"는 아이템이 어느 위치에 있었는지 알려준다. React는 같은 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"key\"}]}]}]}],\"를 가진 이전 호스트 인스턴스를 재사용하고 자식의 순서를 재정렬한다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"key\"}]}]}]}],\"는 항상 같은 부모 React 엘리먼트 안에서만 유효하다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Purity (순수성)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"React 컴포넌트는 전달받은 props에 대해 순수하다고 가정한다. 일반적으로 React에서 mutation은 부자연스럽다.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Button\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"props\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"  // 🔴 Doesn't work\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  props\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"isActive\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\" true\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Local mutation은 전혀 상관 없다. 비슷한 맥락으로 전혀 “pure”하지 않은 lazy initialization도 괜찮다.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" ExpenseForm\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"  // Fine if it doesn't affect other components:\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  SuperCalculator\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"initializeIfNotReady\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"  // Continue rendering...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"다른 컴포넌트의 렌더링에 영향을 주지 않으면 컴포넌트를 여러 번 호출하는 것도 상관없다. React는 엄격한 함수형 패러다임처럼 100% 순수성을 가지지 못해도 괜찮다. \",[\"$\",\"$L10\",null,{\"href\":\"https://stackoverflow.com/questions/1077412/what-is-an-idempotent-operation\",\"children\":\"멱등성\"}],\"은 React에서 순수성보다 훨씬 중요하다. (= 컴포넌트를 여러번 호출해도 같은 결과를 만들도록 할 것)\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"정리하면, React 컴포넌트에서 사용자가 볼 수 있는 부수 효과는 허용되지 않는다. 컴포넌트 함수를 호출하더라도 직접적으로 화면에 변경을 일으키면 안된다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Recursion (재귀)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"컴포넌트는 함수이기 때문에 호출이 가능하다. 하지만 React 런타임에서 자연스러운 방법은 아니다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"컴포넌트를 사용하는 자연스러운 방법: \",[\"$\",\"strong\",null,{\"children\":\"직접 컴포넌트 함수를 호출하지 말고 React가 알아서 하도록 하는 것\"}]]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// { type: Form, props: { showMessage: true } }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"let\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" reactElement\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" \u003cForm \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#D1949E\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"showMessage\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"{\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"true\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"}\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" /\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"ReactDOM\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"reactElement\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"domContainer\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React 내부 어딘가에서 컴포넌트가 호출 될 것이다. JSX가 변환될 때 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"\u003cform\u003e\"}]}]}]}],\"과 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"\u003cForm\u003e\"}]}]}]}],\"은 각각 다른 타입으로 볼 것이다.\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"console\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"((\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"form\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" /\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"type\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 'form' string\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"console\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"log\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"((\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003cForm /\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\").\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"type\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\") \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// Form function\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"전역 등록 메커니즘은 없다. \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"\u003cForm /\u003e\"}]}]}]}],\"이라고 치면 문자열 그대로 Form을 참조한다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React 엘리먼트 타입이 함수라면 React는 컴포넌트를 호출해서 어떤 엘리먼트를 렌더링 하고 싶은지 물어본다. 이 과정은 재귀적으로 진행되고 \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/blog/2015/12/18/react-components-elements-and-instances.html\",\"children\":\"여기\"}],\"에 좀 더 자세하게 설명되어 있다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Inversion of Control (제어의 역전)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"왜 컴포넌트를 직접 호출하면 안될까?\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"컴포넌트는 함수 이상의 역할을 한다.\"}],\" local state와 같은 기능들로 컴포넌트 함수를 강력하게 만들어준다. 컴포넌트를 직접 호출한다면 이 기능들을 직접 구축해야 할 것이다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"컴포넌트 타입은 reconciliation에 관여한다.\"}],\" React가 컴포넌트를 호출함으로써 트리의 개념 구조를 알려줄 수 있다. 예를 들어, 트리의 input의 위치가 같더라도 \u003cPasswordForm /\u003e과 \u003cMessengerChat /\u003e 사이에서 재조정이 일어나고, 입력 상태가 유지되지 않도록 할 수 있다.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"React가 reconciliation을 지연시킬 수 있다.\"}],\" 가령 브라우저가 컴포넌트 호출 사이에서 특정 작업을 할 수 있도록 하여 큰 컴포넌트 트리를 다시 렌더링 하더라도 \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/blog/2018/03/01/sneak-peek-beyond-react-16.html\",\"children\":\"메인 스레드를 멈추지 않게 할 수 있다.\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"더 나은 디버깅\"}],\" 라이브러리에서 컴포넌트를 1급 객체로 하여 내부에 접근 가능한 풍성한 개발 도구를 지원 가능하다.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"마지막 이점은 \",[\"$\",\"strong\",null,{\"children\":\"지연 평가\"}],\"이다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Lazy Evaluation (지연 평가)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"React 컴포넌트는 비교적 순수하지만 화면에 나타나지 않는다면 실행할 필요가 없다.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"js\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    type: \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Page\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    props: {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      children: \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Comments\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"// 항상 실행된다다!\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    type: \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Page\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    props: {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      children: { type: \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Comments\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" }\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"컴포넌트로 작성하면 React가 호출 시점을 결정할 수 있게 해 줍니다. (불필요한 렌더링을 피할 수 있게 하고 코드의 취약성을 줄일 수 있다.)\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Consistency (일관성)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"reconciliation 과정은 논-블로킹 작업으로 나누더라도, 실제 호스트 트리에서의 작업은 여전히 단일 동기 흐름안에서 수행되어야한다. 이렇게 하면 사용자가 덜 만들어진 UI를 볼 수 없고, 브라우저가 중간 상태에 대해 불필요한 레이아웃 및 스타일 재계산을 수행하지 않도록 할 수 있다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"위 이유로 React는 모든 작업을 “render phase”와 “commit phase”로 나눈다.\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"Render phase: React가 컴포넌트를 호출, reconciliation을 수행. 중단해도 안전하며 \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/blog/2018/03/01/sneak-peek-beyond-react-16.html\",\"children\":\"앞으로는 비동기적일 것\"}]]}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"Commit phase: 동기적으로 React가 호스트 트리를 변경하는 단계\"}],\"\\n\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Memoization\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"부모 컴포넌트가 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"setState\"}]}]}]}],\"를 통해 갱신을 예약하면 React는 기본적으로 전체 하위 트리를 재조정한다. 비용이 클 것 같지만 실제로는 중소형 하위 트리에서는 문제가 되지 않는다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"트리가 너무 깊게 갱신된다면 React에 하위 트리를 메모이제이션해서 얕은 props 비교를 통해 이젠 렌더링 결과를 재사용 할 수 있다.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"js\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"js\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Row\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"({ \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"item\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" }) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\"  // ...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"export\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\" default\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" React\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"memo\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Row\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"React는 기본적으로 컴포넌트를 메모하지 않는다. 대부분의 컴포넌트들은 항상 다른 props를 받기 때문에 메모이제이션 비용이 발생할 수 있다.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Raw Models\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"역설적이게도 React는 세밀한 갱신을 위해 “reactivity” 시스템을 사용하지 않는다. 이는 의도된 디자인이다. 모델을 순회하며 세밀한 수신자를 설정하는 것은 귀중한 시간을 소비한다. 게다가 많은 앱에서 상호작용은 작은 변화(버튼 호버)나 큰 변화(페이지 이동)로 이어지며 이 경우 작은 단위의 구독은 메모리 낭비이다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"React의 핵심 설계 원칙 중 하나는 로우 데이터로 동작하는 것\"}],\"이다. React 렌더링은 O(model size)가 아닌 O(view size) 복잡도를 가지고 view size는 windowing을 통해 크게 줄일 수 있다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"주식 시세 표시 애플리케이션처럼 세밀한 구독이 도움이 되는 경우도 있다. (모든 것이 한번에 지속적으로 갱신되는 경우) React 최상위에 세밀한 구독 시스템을 만들 수도 있지만 React가 좋은 사용 사례가 되지 않을 수도 있다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"세밀한 구독과 반응형 시스템으로도 풀 수 없는 일반적인 성능 이슈들이 존재한다. React는 \",[\"$\",\"$L10\",null,{\"href\":\"https://reactjs.org/blog/2018/03/01/sneak-peek-beyond-react-16.html\",\"children\":\"컨커런트 렌더링\"}],\"을 통해 이 문제들을 해결하고자 한다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Batching\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Parent\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  let\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"] \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"0\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    \u003c\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"div\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#D1949E\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" onClick\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"{\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" +\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\" 1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"}\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      Parent clicked \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"{\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"}\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" times\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      \u003cChild /\u003e\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    \u003c/\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"div\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  )\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"function\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Child\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  let\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" [\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"] \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" useState\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"0\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"  return\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    \u003c\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"button\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#D1949E\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" onClick\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"{\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"() \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setCount\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\" +\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#D1949E\"},\"children\":\" 1\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"}\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"      Child clicked \"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"{\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"count\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#0077AA\",\"--shiki-dark\":\"#D1949E\"},\"children\":\"}\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" times\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"    \u003c/\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"button\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#222222\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"  )\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"위 경우, React가 즉시 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"setState\"}]}]}]}],\" 호출에 대한 응답으로 컴포넌트를 다시 렌더링한다면 자식을 두번 렌더링 해야 한다.\"]}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"tabIndex\":\"0\",\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"jsx\",\"data-theme\":\"light dark\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"***\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Entering\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" React\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'s browser click event handler **\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#FFFFFF\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"*\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Child\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"onClick\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"  -\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setState\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"  -\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" re\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"-\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Child\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#708090\",\"--shiki-dark\":\"#998066\",\"--shiki-light-font-style\":\"italic\",\"--shiki-dark-font-style\":\"italic\"},\"children\":\" // 😞 unnecessary\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#DD4A68\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"Parent\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"onClick\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"  -\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" setState\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"  -\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" re\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"-\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Parent\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"  -\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" re\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"-\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"render\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Child\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#9A6E3A\",\"--shiki-dark\":\"#F5B83D\"},\"children\":\"***\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" Exiting\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#990055\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\" React\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#669900\",\"--shiki-dark\":\"#BDE052\"},\"children\":\"'s browser click event handler **\"}],[\"$\",\"span\",null,{\"style\":{\"--shiki-light\":\"#FFFFFF\",\"--shiki-dark\":\"#EEEEEE\"},\"children\":\"*\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"이것이 React가 이벤트 핸들러 사이에서 일괄 갱신을 하는 이유이다.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"컴포넌트의 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"setState\"}]}]}]}],\" 호출은 즉시 렌더를 발생시키지 않는다. React는 모든 이벤트 핸들러를 실행시킨 다음 모든 변경사항을 한 번에 다시 렌더한다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React는 갱신 함수들을 큐에 쌓아놓고 나중에 순서대로 실행한다. 상태 로직이 복잡해진다면 지역 상태를 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"useReducer\"}]}]}]}],\" 훅으로 사용하길 권장한다.\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Call Tree (호출 트리)\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"React는 내부적으로 현재 렌더되어 있는 컴포넌트를 기억하기 위해 자체적인 호출 스택이 있다. (e.g. 가령 \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"plaintext\",\"data-theme\":\"light dark\",\"style\":{\"--shiki-light\":\"#030712\",\"--shiki-dark\":\"#eeeeee\",\"--shiki-light-bg\":\"#fafaf8\",\"--shiki-dark-bg\":\"#1e1e1e\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"children\":\"[App, Page, Layout, Article /** 현재 렌더링 하는 부분 **/])\"}]}]}]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"이 트리들은 상호작용하기 위해서 계속 살아 있어야 한다. 즉 Article 컴포넌트의 렌더가 끝나도 React 호출 트리는 파괴되지 않는다. local state와 호스트 인스턴스의 참조를 \",[\"$\",\"$L10\",null,{\"href\":\"https://medium.com/react-in-depth/the-how-and-why-on-reacts-usage-of-linked-list-in-fiber-67f1014d0eb7\",\"children\":\"어딘가에\"}],\" 유지해야 한다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"호출 트리 프레임은 재조정 규칙에 따라 지역 상태, 호스트 인스턴스와 함께 파괴됩니다. React 소스를 읽어봤다면 이러한 프레임을 \",[\"$\",\"$L10\",null,{\"href\":\"https://en.wikipedia.org/wiki/Fiber_(computer_science)\",\"children\":\"파이버\"}],\"라고 부르는 것을 볼 수 있다.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"파이버는 지역 상태가 실제로 있는 곳이다. 지역 상태가 업데이트될 때 React는 해당 파이버의 자식들을 재조정하고 해당 컴포넌트들을 호출한다.\"}]]\n"])</script><script>self.__next_f.push([1,""])</script></body></html>